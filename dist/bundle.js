!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}({21:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},22:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},23:function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var o=i(r);o.right,o.left;var a=Array.prototype;a.slice,a.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Array.prototype.slice;var u={value:function(){}};function s(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new l(r)}function l(t){this._=t}function c(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function h(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function f(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=u,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}l.prototype=s.prototype={constructor:l,on:function(t,e){var n,r=this._,i=c(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=f(r[n],t.name,e);else if(null==e)for(n in r)r[n]=f(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=h(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new l(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var p=s;function d(){}var _=function(t){return null==t?d:function(){return this.querySelector(t)}};function v(){return[]}var g=function(t){return null==t?v:function(){return this.querySelectorAll(t)}},y=function(t){return function(){return this.matches(t)}},m=function(t){return new Array(t.length)};function w(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function b(t,e,n,r,i,o){for(var a,u=0,s=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new w(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function x(t,e,n,r,i,o,a){var u,s,l,c={},h=e.length,f=o.length,p=new Array(h);for(u=0;u<h;++u)(s=e[u])&&(p[u]=l="$"+a.call(s,s.__data__,u,e),l in c?i[u]=s:c[l]=s);for(u=0;u<f;++u)(s=c[l="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],c[l]=null):n[u]=new w(t,o[u]);for(u=0;u<h;++u)(s=e[u])&&c[p[u]]===s&&(i[u]=s)}function A(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var C="http://www.w3.org/1999/xhtml",P={svg:"http://www.w3.org/2000/svg",xhtml:C,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},S=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),P.hasOwnProperty(e)?{space:P[e],local:t}:t};function M(t){return function(){this.removeAttribute(t)}}function T(t){return function(){this.removeAttributeNS(t.space,t.local)}}function k(t,e){return function(){this.setAttribute(t,e)}}function L(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function I(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function j(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var D=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function U(t){return function(){this.style.removeProperty(t)}}function N(t,e,n){return function(){this.style.setProperty(t,e,n)}}function R(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function B(t,e){return t.style.getPropertyValue(e)||D(t).getComputedStyle(t,null).getPropertyValue(e)}function E(t){return function(){delete this[t]}}function O(t,e){return function(){this[t]=e}}function H(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function F(t){return t.trim().split(/^|\s+/)}function $(t){return t.classList||new z(t)}function z(t){this._node=t,this._names=F(t.getAttribute("class")||"")}function W(t,e){for(var n=$(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Y(t,e){for(var n=$(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function q(t){return function(){W(this,t)}}function V(t){return function(){Y(this,t)}}function G(t,e){return function(){(e.apply(this,arguments)?W:Y)(this,t)}}z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Z(){this.textContent=""}function X(t){return function(){this.textContent=t}}function J(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Q(){this.innerHTML=""}function K(t){return function(){this.innerHTML=t}}function tt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function et(){this.nextSibling&&this.parentNode.appendChild(this)}function nt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===C&&e.documentElement.namespaceURI===C?e.createElement(t):e.createElementNS(n,t)}}function it(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ot=function(t){var e=S(t);return(e.local?it:rt)(e)};function at(){return null}function ut(){var t=this.parentNode;t&&t.removeChild(this)}function st(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function lt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var ct={},ht=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ct={mouseenter:"mouseover",mouseleave:"mouseout"}));function ft(t,e,n){return t=pt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function pt(t,e,n){return function(r){var i=ht;ht=r;try{t.call(this,this.__data__,e,n)}finally{ht=i}}}function dt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function _t(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function vt(t,e,n){var r=ct.hasOwnProperty(t.type)?ft:pt;return function(i,o,a){var u,s=this.__on,l=r(e,o,a);if(s)for(var c=0,h=s.length;c<h;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=e);this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function gt(t,e,n){var r=D(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function yt(t,e){return function(){return gt(this,t,e)}}function mt(t,e){return function(){return gt(this,t,e.apply(this,arguments))}}var wt=[null];function bt(t,e){this._groups=t,this._parents=e}function xt(){return new bt([[document.documentElement]],wt)}bt.prototype=xt.prototype={constructor:bt,select:function(t){"function"!=typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new bt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new bt(r,i)},filter:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new bt(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,r=e?x:b,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],p=f.length,d=t.call(h,h&&h.__data__,c,i),_=d.length,v=s[c]=new Array(_),g=u[c]=new Array(_);r(h,f,v,g,l[c]=new Array(p),d,e);for(var y,m,w=0,A=0;w<_;++w)if(y=v[w]){for(w>=A&&(A=w+1);!(m=g[A])&&++A<_;);y._next=m||null}}return(u=new bt(u,i))._enter=s,u._exit=l,u},enter:function(){return new bt(this._enter||this._groups.map(m),this._parents)},exit:function(){return new bt(this._exit||this._groups.map(m),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],h=l.length,f=a[u]=new Array(h),p=0;p<h;++p)(s=l[p]||c[p])&&(f[p]=s);for(;u<r;++u)a[u]=e[u];return new bt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=A);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(e)}return new bt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=S(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?T:M:"function"==typeof e?n.local?j:I:n.local?L:k)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?U:"function"==typeof e?R:N)(t,e,null==n?"":n)):B(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?E:"function"==typeof e?H:O)(t,e)):this.node()[t]},classed:function(t,e){var n=F(t+"");if(arguments.length<2){for(var r=$(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?G:e?q:V)(n,e))},text:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?J:X)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Q:("function"==typeof t?tt:K)(t)):this.node().innerHTML},raise:function(){return this.each(et)},lower:function(){return this.each(nt)},append:function(t){var e="function"==typeof t?t:ot(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ot(t),r=null==e?at:"function"==typeof e?e:_(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ut)},clone:function(t){return this.select(t?lt:st)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=dt(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?vt:_t,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?mt:yt)(t,e))}};var At=xt,Ct=function(t){return"string"==typeof t?new bt([[document.querySelector(t)]],[document.documentElement]):new bt([[t]],wt)};var Pt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function St(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mt(){}var Tt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",It=/^#([0-9a-f]{3,8})$/,jt=new RegExp("^rgb\\("+[Tt,Tt,Tt]+"\\)$"),Dt=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Ut=new RegExp("^rgba\\("+[Tt,Tt,Tt,kt]+"\\)$"),Nt=new RegExp("^rgba\\("+[Lt,Lt,Lt,kt]+"\\)$"),Rt=new RegExp("^hsl\\("+[kt,Lt,Lt]+"\\)$"),Bt=new RegExp("^hsla\\("+[kt,Lt,Lt,kt]+"\\)$"),Et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ot(){return this.rgb().formatHex()}function Ht(){return this.rgb().formatRgb()}function Ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=It.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?$t(e):3===n?new qt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?zt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=jt.exec(t))?new qt(e[1],e[2],e[3],1):(e=Dt.exec(t))?new qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ut.exec(t))?zt(e[1],e[2],e[3],e[4]):(e=Nt.exec(t))?zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Rt.exec(t))?Xt(e[1],e[2]/100,e[3]/100,1):(e=Bt.exec(t))?Xt(e[1],e[2]/100,e[3]/100,e[4]):Et.hasOwnProperty(t)?$t(Et[t]):"transparent"===t?new qt(NaN,NaN,NaN,0):null}function $t(t){return new qt(t>>16&255,t>>8&255,255&t,1)}function zt(t,e,n,r){return r<=0&&(t=e=n=NaN),new qt(t,e,n,r)}function Wt(t){return t instanceof Mt||(t=Ft(t)),t?new qt((t=t.rgb()).r,t.g,t.b,t.opacity):new qt}function Yt(t,e,n,r){return 1===arguments.length?Wt(t):new qt(t,e,n,null==r?1:r)}function qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Vt(){return"#"+Zt(this.r)+Zt(this.g)+Zt(this.b)}function Gt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Zt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Xt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qt(t,e,n,r)}function Jt(t){if(t instanceof Qt)return new Qt(t.h,t.s,t.l,t.opacity);if(t instanceof Mt||(t=Ft(t)),!t)return new Qt;if(t instanceof Qt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Qt(a,u,s,t.opacity)}function Qt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Kt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function te(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Pt(Mt,Ft,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHsl:function(){return Jt(this).formatHsl()},formatRgb:Ht,toString:Ht}),Pt(qt,Yt,St(Mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vt,formatHex:Vt,formatRgb:Gt,toString:Gt})),Pt(Qt,(function(t,e,n,r){return 1===arguments.length?Jt(t):new Qt(t,e,n,null==r?1:r)}),St(Mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Qt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qt(Kt(t>=240?t-240:t+120,i,r),Kt(t,i,r),Kt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ee=function(t){return function(){return t}};function ne(t,e){return function(n){return t+n*e}}function re(t){return 1==(t=+t)?ie:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ee(isNaN(e)?n:e)}}function ie(t,e){var n=e-t;return n?ne(t,n):ee(isNaN(t)?e:t)}var oe=function t(e){var n=re(e);function r(t,e){var r=n((t=Yt(t)).r,(e=Yt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ie(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ae(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Yt(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}ae((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return te((n-r/e)*e,a,i,o,u)}})),ae((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return te((n-r/e)*e,i,o,a,u)}}));var ue=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,le=new RegExp(se.source,"g");var ce,he,fe=function(t,e){var n,r,i,o=se.lastIndex=le.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=se.exec(t))&&(r=le.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:ue(n,r)})),o=le.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})},pe=0,de=0,_e=0,ve=0,ge=0,ye=0,me="object"==typeof performance&&performance.now?performance:Date,we="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function be(){return ge||(we(xe),ge=me.now()+ye)}function xe(){ge=0}function Ae(){this._call=this._time=this._next=null}function Ce(t,e,n){var r=new Ae;return r.restart(t,e,n),r}function Pe(){ge=(ve=me.now())+ye,pe=de=0;try{!function(){be(),++pe;for(var t,e=ce;e;)(t=ge-e._time)>=0&&e._call.call(null,t),e=e._next;--pe}()}finally{pe=0,function(){var t,e,n=ce,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ce=e);he=t,Me(r)}(),ge=0}}function Se(){var t=me.now(),e=t-ve;e>1e3&&(ye-=e,ve=t)}function Me(t){pe||(de&&(de=clearTimeout(de)),t-ge>24?(t<1/0&&(de=setTimeout(Pe,t-me.now()-ye)),_e&&(_e=clearInterval(_e))):(_e||(ve=me.now(),_e=setInterval(Se,1e3)),pe=1,we(Pe)))}Ae.prototype=Ce.prototype={constructor:Ae,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?be():+n)+(null==e?0:+e),this._next||he===this||(he?he._next=this:ce=this,he=this),this._call=t,this._time=n,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};var Te=function(t,e,n){var r=new Ae;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},ke=p("start","end","cancel","interrupt"),Le=[],Ie=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(s){var l,c,h,f;if(1!==n.state)return u();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return Te(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Te((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(s))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ce((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:ke,tween:Le,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function je(t,e){var n=Ue(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function De(t,e){var n=Ue(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Ue(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ne,Re,Be,Ee,Oe=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},He=180/Math.PI,Fe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},$e=function(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*He,skewX:Math.atan(s)*He,scaleX:a,scaleY:u}};function ze(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:ue(t,i)},{i:s-2,x:ue(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ue(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ue(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:ue(t,n)},{i:u-2,x:ue(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}var We=ze((function(t){return"none"===t?Fe:(Ne||(Ne=document.createElement("DIV"),Re=document.documentElement,Be=document.defaultView),Ne.style.transform=t,t=Be.getComputedStyle(Re.appendChild(Ne),null).getPropertyValue("transform"),Re.removeChild(Ne),t=t.slice(7,-1).split(","),$e(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Ye=ze((function(t){return null==t?Fe:(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",t),(t=Ee.transform.baseVal.consolidate())?(t=t.matrix,$e(t.a,t.b,t.c,t.d,t.e,t.f)):Fe)}),", ",")",")");function qe(t,e){var n,r;return function(){var i=De(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ve(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=De(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===e){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function Ge(t,e,n){var r=t._id;return t.each((function(){var t=De(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ue(t,r).value[e]}}var Ze=function(t,e){var n;return("number"==typeof e?ue:e instanceof Ft?oe:(n=Ft(e))?(e=n,oe):fe)(t,e)};function Xe(t){return function(){this.removeAttribute(t)}}function Je(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qe(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Ke(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function tn(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttribute(t)}}function en(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttributeNS(t.space,t.local)}}function nn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function rn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function on(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&rn(t,i)),n}return i._value=e,i}function an(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&nn(t,i)),n}return i._value=e,i}function un(t,e){return function(){je(this,t).delay=+e.apply(this,arguments)}}function sn(t,e){return e=+e,function(){je(this,t).delay=e}}function ln(t,e){return function(){De(this,t).duration=+e.apply(this,arguments)}}function cn(t,e){return e=+e,function(){De(this,t).duration=e}}function hn(t,e){if("function"!=typeof e)throw new Error;return function(){De(this,t).ease=e}}function fn(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?je:De;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}var pn=At.prototype.constructor;function dn(t){return function(){this.style.removeProperty(t)}}function _n(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function vn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_n(t,o,n)),r}return o._value=e,o}function gn(t){return function(e){this.textContent=t.call(this,e)}}function yn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&gn(r)),e}return r._value=t,r}var mn=0;function wn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function bn(){return++mn}var xn=At.prototype;wn.prototype=function(t){return At().transition(t)}.prototype={constructor:wn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(u=l[f])&&(s=t.call(u,u.__data__,f,l))&&("__data__"in u&&(s.__data__=u.__data__),h[f]=s,Ie(h[f],e,n,f,h,Ue(u,n)));return new wn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=g(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,h=0;h<c;++h)if(s=l[h]){for(var f,p=t.call(s,s.__data__,h,l),d=Ue(s,n),_=0,v=p.length;_<v;++_)(f=p[_])&&Ie(f,e,n,_,p,d);o.push(p),a.push(s)}return new wn(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new wn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],h=l.length,f=a[u]=new Array(h),p=0;p<h;++p)(s=l[p]||c[p])&&(f[p]=s);for(;u<r;++u)a[u]=e[u];return new wn(a,this._parents,this._name,this._id)},selection:function(){return new pn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=bn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=Ue(a,e);Ie(a,t,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wn(r,this._parents,t,n)},call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:function(t,e){var n=this._id;return arguments.length<2?Ue(this.node(),n).on.on(t):this.each(fn(n,t,e))},attr:function(t,e){var n=S(t),r="transform"===n?Ye:Ze;return this.attrTween(t,"function"==typeof e?(n.local?en:tn)(n,r,Ge(this,"attr."+t,e)):null==e?(n.local?Je:Xe)(n):(n.local?Ke:Qe)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=S(t);return this.tween(n,(r.local?on:an)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?We:Ze;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=B(this,t),a=(this.style.removeProperty(t),B(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,dn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=B(this,t),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=B(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u))}}(t,r,Ge(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var s=De(this,t),l=s.on,c=null==s.value[a]?o||(o=dn(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=B(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,vn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ge(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,yn(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ue(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?qe:Ve)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?un:sn)(e,t)):Ue(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ln:cn)(e,t)):Ue(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(hn(e,t)):Ue(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};n.each((function(){var n=De(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),n.on=e}))}))}};var An={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Cn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return An.time=be(),An;return n}At.prototype.interrupt=function(t){return this.each((function(){Oe(this,t)}))},At.prototype.transition=function(t){var e,n;t instanceof wn?(e=t._id,t=t._name):(e=bn(),(n=An).time=be(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&Ie(a,t,e,l,u,n||Cn(a,e));return new wn(r,this._parents,t,e)};function Pn(t){return[+t[0],+t[1]]}function Sn(t){return[Pn(t[0]),Pn(t[1])]}["w","e"].map(Mn),["n","s"].map(Mn),["n","w","e","s","nw","ne","sw","se"].map(Mn);function Mn(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Tn=Math.PI,kn=2*Tn,Ln=kn-1e-6;function In(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jn(){return new In}In.prototype=jn.prototype={constructor:In,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,l=o-t,c=a-e,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*u-s*l)>1e-6&&i){var f=n-o,p=r-a,d=u*u+s*s,_=f*f+p*p,v=Math.sqrt(d),g=Math.sqrt(h),y=i*Math.tan((Tn-Math.acos((d+h-_)/(2*v*g)))/2),m=y/g,w=y/v;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*l)+","+(e+m*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+w*u)+","+(this._y1=e+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=t+a,l=e+u,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),n&&(h<0&&(h=h%kn+kn),h>Ln?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Tn)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Dn(){}function Un(t,e){var n=new Dn;if(t instanceof Dn)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Dn.prototype=Un.prototype={constructor:Dn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Nn=Un;function Rn(){}var Bn=Nn.prototype;function En(t,e){var n=new Rn;if(t instanceof Rn)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Rn.prototype=En.prototype={constructor:Rn,has:Bn.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Bn.remove,clear:Bn.clear,values:Bn.keys,size:Bn.size,empty:Bn.empty,each:Bn.each};Array.prototype.slice;var On={},Hn={};function Fn(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function $n(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function zn(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Wn(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+zn(-e,6):e>9999?"+"+zn(e,6):zn(e,4))+"-"+zn(t.getUTCMonth()+1,2)+"-"+zn(t.getUTCDate(),2)+(o?"T"+zn(n,2)+":"+zn(r,2)+":"+zn(i,2)+"."+zn(o,3)+"Z":i?"T"+zn(n,2)+":"+zn(r,2)+":"+zn(i,2)+"Z":r||n?"T"+zn(n,2)+":"+zn(r,2)+"Z":"")}var Yn=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,s=o<=0,l=!1;function c(){if(s)return Hn;if(l)return l=!1,On;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==Hn;){for(var h=[];r!==On&&r!==Hn;)h.push(r),r=c();e&&null==(h=e(h,u++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Wn(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Fn(t);return function(r,i){return e(n(r),i,t)}}(t,e):Fn(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=$n(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=$n(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},qn=Yn(","),Vn=qn.parse,Gn=(qn.parseRows,qn.format,qn.formatBody,qn.formatRows,qn.formatRow,qn.formatValue,Yn("\t")),Zn=Gn.parse;Gn.parseRows,Gn.format,Gn.formatBody,Gn.formatRows,Gn.formatRow,Gn.formatValue;function Xn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Jn=function(t,e){return fetch(t,e).then(Xn)};function Qn(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Jn(e,n).then((function(e){return t(e,r)}))}}Qn(Vn),Qn(Zn);function Kn(t){return function(e,n){return Jn(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}Kn("application/xml"),Kn("text/html"),Kn("image/svg+xml");function tr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,s,l,c,h,f,p=t._root,d={data:r},_=t._x0,v=t._y0,g=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(_+g)/2))?_=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=p,!(p=p[h=c<<1|l]))return i[h]=d,t;if(u=+t._x.call(null,p.data),s=+t._y.call(null,p.data),e===u&&n===s)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(_+g)/2))?_=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((h=c<<1|l)==(f=(s>=a)<<1|u>=o));return i[f]=p,i[h]=d,t}var er=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function nr(t){return t[0]}function rr(t){return t[1]}function ir(t,e,n){var r=new or(null==e?nr:e,null==n?rr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function or(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ar(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ur=ir.prototype=or.prototype;ur.copy=function(){var t,e,n=new or(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ar(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ar(e));return n},ur.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return tr(this.cover(e,n),e,n,t)},ur.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(s>c||l>h)return this;for(this.cover(s,l).cover(c,h),n=0;n<o;++n)tr(this,a[n],u[n],t[n]);return this},ur.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,u,s=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=l,l=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},ur.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ur.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ur.find=function(t,e,n){var r,i,o,a,u,s,l,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],_=this._root;for(_&&d.push(new er(_,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);s=d.pop();)if(!(!(_=s.node)||(i=s.x0)>f||(o=s.y0)>p||(a=s.x1)<c||(u=s.y1)<h))if(_.length){var v=(i+a)/2,g=(o+u)/2;d.push(new er(_[3],v,g,a,u),new er(_[2],i,g,v,u),new er(_[1],v,o,a,g),new er(_[0],i,o,v,g)),(l=(e>=g)<<1|t>=v)&&(s=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=s)}else{var y=t-+this._x.call(null,_.data),m=e-+this._y.call(null,_.data),w=y*y+m*m;if(w<n){var b=Math.sqrt(n=w);c=t-b,h=e-b,f=t+b,p=e+b,r=_.data}}return r},ur.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,s,l,c,h,f,p=this._root,d=this._x0,_=this._y0,v=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(u=(d+v)/2))?d=u:v=u,(c=a>=(s=(_+g)/2))?_=s:g=s,e=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},ur.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ur.root=function(){return this._root},ur.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ur.visit=function(t){var e,n,r,i,o,a,u=[],s=this._root;for(s&&u.push(new er(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&s.length){var l=(r+o)/2,c=(i+a)/2;(n=s[3])&&u.push(new er(n,l,c,o,a)),(n=s[2])&&u.push(new er(n,r,c,l,a)),(n=s[1])&&u.push(new er(n,l,i,o,c)),(n=s[0])&&u.push(new er(n,r,i,l,c))}return this},ur.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new er(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,s=e.x1,l=e.y1,c=(a+s)/2,h=(u+l)/2;(o=i[0])&&n.push(new er(o,a,u,c,h)),(o=i[1])&&n.push(new er(o,c,u,s,h)),(o=i[2])&&n.push(new er(o,a,h,c,l)),(o=i[3])&&n.push(new er(o,c,h,s,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ur.x=function(t){return arguments.length?(this._x=t,this):this._x},ur.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var sr=function(){return Math.random()},lr=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(sr),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(sr)),cr=(function t(e){function n(){var t=lr.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(sr),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(sr));(function t(e){function n(t){var n=cr.source(e)(t);return function(){return n()/t}}return n.source=t,n})(sr),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(sr);var hr=Array.prototype;hr.map,hr.slice;var fr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pr(t){if(!(e=fr.exec(t)))throw new Error("invalid format: "+t);var e;return new dr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function dr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}pr.prototype=dr.prototype,dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var _r,vr,gr=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},yr=function(t){return(t=gr(Math.abs(t)))?t[1]:NaN},mr=function(t,e){var n=gr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},wr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return mr(100*t,e)},r:mr,s:function(t,e){var n=gr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(_r=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+gr(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},br=function(t){return t},xr=Array.prototype.map,Ar=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];vr=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?br:(e=xr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?br:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(xr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=pr(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,_=t.comma,v=t.precision,g=t.trim,y=t.type;"n"===y?(_=!0,y="g"):wr[y]||(void 0===v&&(v=12),g=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var m="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===f?o:/[%p]/.test(y)?s:"",b=wr[y],x=/[defgprs%]/.test(y);function A(t){var i,o,s,f=m,A=w;if("c"===y)A=b(t)+A,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==h&&(C=!1),f=(C?"("===h?h:l:"-"===h||"("===h?"":h)+f,A=("s"===y?Ar[8+_r/3]:"")+A+(C&&"("===h?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){A=(46===s?a+t.slice(i+1):t.slice(i))+A,t=t.slice(0,i);break}}_&&!p&&(t=r(t,1/0));var P=f.length+t.length+A.length,S=P<d?new Array(d-P+1).join(e):"";switch(_&&p&&(t=r(S+t,S.length?d-A.length:1/0),S=""),n){case"<":t=f+t+A+S;break;case"=":t=f+S+t+A;break;case"^":t=S.slice(0,P=S.length>>1)+f+t+A+S.slice(P);break;default:t=S+f+t+A}return u(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),A.toString=function(){return t+""},A}return{format:h,formatPrefix:function(t,e){var n=h(((t=pr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(yr(e)/3))),i=Math.pow(10,-r),o=Ar[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),vr.format,vr.formatPrefix;var Cr=new Date,Pr=new Date;function Sr(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return Sr((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Cr.setTime(+e),Pr.setTime(+r),t(Cr),t(Pr),Math.floor(n(Cr,Pr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Mr=Sr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Mr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Tr=Mr,kr=(Mr.range,Sr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));kr.range;function Lr(t){return Sr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Ir=Lr(0),jr=Lr(1),Dr=Lr(2),Ur=Lr(3),Nr=Lr(4),Rr=Lr(5),Br=Lr(6),Er=(Ir.range,jr.range,Dr.range,Ur.range,Nr.range,Rr.range,Br.range,Sr((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),Or=Er,Hr=(Er.range,Sr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),Fr=(Hr.range,Sr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),$r=(Fr.range,Sr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),zr=($r.range,Sr((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));zr.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Sr((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):zr:null};zr.range;function Wr(t){return Sr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Yr=Wr(0),qr=Wr(1),Vr=Wr(2),Gr=Wr(3),Zr=Wr(4),Xr=Wr(5),Jr=Wr(6),Qr=(Yr.range,qr.range,Vr.range,Gr.range,Zr.range,Xr.range,Jr.range,Sr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Kr=Qr,ti=(Qr.range,Sr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));ti.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var ei=ti;ti.range;function ni(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ri(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ii(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var oi,ai={"-":"",_:" ",0:"0"},ui=/^\s*\d+/,si=/^%/,li=/[\\^$*+?|[\]().{}]/g;function ci(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hi(t){return t.replace(li,"\\$&")}function fi(t){return new RegExp("^(?:"+t.map(hi).join("|")+")","i")}function pi(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function di(t,e,n){var r=ui.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _i(t,e,n){var r=ui.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mi(t,e,n){var r=ui.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xi(t,e,n){var r=ui.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ai(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ci(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Pi(t,e,n){var r=ui.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Si(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ti(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ki(t,e,n){var r=ui.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Li(t,e,n){var r=ui.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ii(t,e,n){var r=si.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ji(t,e,n){var r=ui.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Di(t,e,n){var r=ui.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ui(t,e){return ci(t.getDate(),e,2)}function Ni(t,e){return ci(t.getHours(),e,2)}function Ri(t,e){return ci(t.getHours()%12||12,e,2)}function Bi(t,e){return ci(1+Or.count(Tr(t),t),e,3)}function Ei(t,e){return ci(t.getMilliseconds(),e,3)}function Oi(t,e){return Ei(t,e)+"000"}function Hi(t,e){return ci(t.getMonth()+1,e,2)}function Fi(t,e){return ci(t.getMinutes(),e,2)}function $i(t,e){return ci(t.getSeconds(),e,2)}function zi(t){var e=t.getDay();return 0===e?7:e}function Wi(t,e){return ci(Ir.count(Tr(t)-1,t),e,2)}function Yi(t,e){var n=t.getDay();return t=n>=4||0===n?Nr(t):Nr.ceil(t),ci(Nr.count(Tr(t),t)+(4===Tr(t).getDay()),e,2)}function qi(t){return t.getDay()}function Vi(t,e){return ci(jr.count(Tr(t)-1,t),e,2)}function Gi(t,e){return ci(t.getFullYear()%100,e,2)}function Zi(t,e){return ci(t.getFullYear()%1e4,e,4)}function Xi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ci(e/60|0,"0",2)+ci(e%60,"0",2)}function Ji(t,e){return ci(t.getUTCDate(),e,2)}function Qi(t,e){return ci(t.getUTCHours(),e,2)}function Ki(t,e){return ci(t.getUTCHours()%12||12,e,2)}function to(t,e){return ci(1+Kr.count(ei(t),t),e,3)}function eo(t,e){return ci(t.getUTCMilliseconds(),e,3)}function no(t,e){return eo(t,e)+"000"}function ro(t,e){return ci(t.getUTCMonth()+1,e,2)}function io(t,e){return ci(t.getUTCMinutes(),e,2)}function oo(t,e){return ci(t.getUTCSeconds(),e,2)}function ao(t){var e=t.getUTCDay();return 0===e?7:e}function uo(t,e){return ci(Yr.count(ei(t)-1,t),e,2)}function so(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Zr(t):Zr.ceil(t),ci(Zr.count(ei(t),t)+(4===ei(t).getUTCDay()),e,2)}function lo(t){return t.getUTCDay()}function co(t,e){return ci(qr.count(ei(t)-1,t),e,2)}function ho(t,e){return ci(t.getUTCFullYear()%100,e,2)}function fo(t,e){return ci(t.getUTCFullYear()%1e4,e,4)}function po(){return"+0000"}function _o(){return"%"}function vo(t){return+t}function go(t){return Math.floor(+t/1e3)}!function(t){oi=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=fi(i),c=pi(i),h=fi(o),f=pi(o),p=fi(a),d=pi(a),_=fi(u),v=pi(u),g=fi(s),y=pi(s),m={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Ui,e:Ui,f:Oi,H:Ni,I:Ri,j:Bi,L:Ei,m:Hi,M:Fi,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vo,s:go,S:$i,u:zi,U:Wi,V:Yi,w:qi,W:Vi,x:null,X:null,y:Gi,Y:Zi,Z:Xi,"%":_o},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Ji,e:Ji,f:no,H:Qi,I:Ki,j:to,L:eo,m:ro,M:io,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vo,s:go,S:oo,u:ao,U:uo,V:so,w:lo,W:co,x:null,X:null,y:ho,Y:fo,Z:po,"%":_o},b={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:Ci,e:Ci,f:Li,H:Si,I:Si,j:Pi,L:ki,m:Ai,M:Mi,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:xi,Q:ji,s:Di,S:Ti,u:_i,U:vi,V:gi,w:di,W:yi,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:wi,Y:mi,Z:bi,"%":Ii};function x(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ai[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function A(t,e){return function(n){var r,i,o=ii(1900,void 0,1);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ri(ii(o.y,0,1))).getUTCDay(),r=i>4||0===i?qr.ceil(r):qr(r),r=Kr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ni(ii(o.y,0,1))).getDay(),r=i>4||0===i?jr.ceil(r):jr(r),r=Or.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ri(ii(o.y,0,1)).getUTCDay():ni(ii(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ri(o)):ni(o)}}function C(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=b[i in ai?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=x(n,m),m.X=x(r,m),m.c=x(e,m),w.x=x(n,w),w.X=x(r,w),w.c=x(e,w),{format:function(t){var e=x(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=A(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=A(t+="",!0);return e.toString=function(){return t},e}}}(t),oi.format,oi.parse,oi.utcFormat,oi.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var yo=Sr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),mo=(yo.range,Sr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),wo=(mo.range,Sr((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})));wo.range;function bo(){this._=null}function xo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ao(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Co(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Po(t){for(;t.L;)t=t.L;return t}bo.prototype={constructor:bo,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Po(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ao(this,n),n=(t=n).U),n.C=!1,r.C=!0,Co(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Co(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ao(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Po(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ao(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Co(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ao(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Co(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ao(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Co(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var So=bo;function Mo(t,e,n,r){var i=[null,null],o=Jo.push(i)-1;return i.left=t,i.right=e,n&&ko(i,t,e,n),r&&ko(i,e,t,r),Zo[t.index].halfedges.push(o),Zo[e.index].halfedges.push(o),i}function To(t,e,n){var r=[e,n];return r.left=t,r}function ko(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Lo(t,e,n,r,i){var o,a=t[0],u=t[1],s=a[0],l=a[1],c=0,h=1,f=u[0]-s,p=u[1]-l;if(o=e-s,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-s,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[s+c*f,l+c*p]),h<1&&(t[1]=[s+h*f,l+h*p]),!0)}}}}}function Io(t,e,n,r,i){var o=t[1];if(o)return!0;var a,u,s=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],_=(h+p)/2,v=(f+d)/2;if(d===f){if(_<e||_>=r)return;if(h>p){if(s){if(s[1]>=i)return}else s=[_,n];o=[_,i]}else{if(s){if(s[1]<n)return}else s=[_,i];o=[_,n]}}else if(u=v-(a=(h-p)/(d-f))*_,a<-1||a>1)if(h>p){if(s){if(s[1]>=i)return}else s=[(n-u)/a,n];o=[(i-u)/a,i]}else{if(s){if(s[1]<n)return}else s=[(i-u)/a,i];o=[(n-u)/a,n]}else if(f<d){if(s){if(s[0]>=r)return}else s=[e,a*e+u];o=[r,a*r+u]}else{if(s){if(s[0]<e)return}else s=[r,a*r+u];o=[e,a*e+u]}return t[0]=s,t[1]=o,!0}function jo(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Do(t,e){return e[+(e.left!==t.site)]}function Uo(t,e){return e[+(e.left===t.site)]}var No,Ro=[];function Bo(){xo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Eo(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],u=i[1],s=r[0]-a,l=r[1]-u,c=o[0]-a,h=o[1]-u,f=2*(s*h-l*c);if(!(f>=-Ko)){var p=s*s+l*l,d=c*c+h*h,_=(h*p-l*d)/f,v=(s*d-c*p)/f,g=Ro.pop()||new Bo;g.arc=t,g.site=i,g.x=_+a,g.y=(g.cy=v+u)+Math.sqrt(_*_+v*v),t.circle=g;for(var y=null,m=Xo._;m;)if(g.y<m.y||g.y===m.y&&g.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}Xo.insert(y,g),y||(No=g)}}}}function Oo(t){var e=t.circle;e&&(e.P||(No=e.N),Xo.remove(e),Ro.push(e),xo(e),t.circle=null)}var Ho=[];function Fo(){xo(this),this.edge=this.site=this.circle=null}function $o(t){var e=Ho.pop()||new Fo;return e.site=t,e}function zo(t){Oo(t),Go.remove(t),Ho.push(t),xo(t)}function Wo(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,u=[t];zo(t);for(var s=o;s.circle&&Math.abs(n-s.circle.x)<Qo&&Math.abs(r-s.circle.cy)<Qo;)o=s.P,u.unshift(s),zo(s),s=o;u.unshift(s),Oo(s);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Qo&&Math.abs(r-l.circle.cy)<Qo;)a=l.N,u.push(l),zo(l),l=a;u.push(l),Oo(l);var c,h=u.length;for(c=1;c<h;++c)l=u[c],s=u[c-1],ko(l.edge,s.site,l.site,i);s=u[0],(l=u[h-1]).edge=Mo(s.site,l.site,null,i),Eo(s),Eo(l)}function Yo(t){for(var e,n,r,i,o=t[0],a=t[1],u=Go._;u;)if((r=qo(u,a)-o)>Qo)u=u.L;else{if(!((i=o-Vo(u,a))>Qo)){r>-Qo?(e=u.P,n=u):i>-Qo?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}!function(t){Zo[t.index]={site:t,halfedges:[]}}(t);var s=$o(t);if(Go.insert(e,s),e||n){if(e===n)return Oo(e),n=$o(e.site),Go.insert(s,n),s.edge=n.edge=Mo(e.site,s.site),Eo(e),void Eo(n);if(n){Oo(e),Oo(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,_=d[0]-c,v=d[1]-h,g=2*(f*v-p*_),y=f*f+p*p,m=_*_+v*v,w=[(v*y-p*m)/g+c,(f*m-_*y)/g+h];ko(n.edge,l,d,w),s.edge=Mo(l,t,null,w),n.edge=Mo(t,d,null,w),Eo(e),Eo(n)}else s.edge=Mo(e.site,s.site)}}function qo(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(n=a.site)[0],s=n[1],l=s-e;if(!l)return u;var c=u-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-s+l/2+i-o/2)))/h+r:(r+u)/2}function Vo(t,e){var n=t.N;if(n)return qo(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Go,Zo,Xo,Jo,Qo=1e-6,Ko=1e-12;function ta(t,e){return e[1]-t[1]||e[0]-t[0]}function ea(t,e){var n,r,i,o=t.sort(ta).pop();for(Jo=[],Zo=new Array(t.length),Go=new So,Xo=new So;;)if(i=No,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Yo(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Wo(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Zo.length;i<o;++i)if((t=Zo[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(n=0;n<r;++n)a[n]=n,u[n]=jo(t,Jo[e[n]]);for(a.sort((function(t,e){return u[e]-u[t]})),n=0;n<r;++n)u[n]=e[a[n]];for(n=0;n<r;++n)e[n]=u[n]}}(),e){var a=+e[0][0],u=+e[0][1],s=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Jo.length;o--;)Io(i=Jo[o],t,e,n,r)&&Lo(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Qo||Math.abs(i[0][1]-i[1][1])>Qo)||delete Jo[o]}(a,u,s,l),function(t,e,n,r){var i,o,a,u,s,l,c,h,f,p,d,_,v=Zo.length,g=!0;for(i=0;i<v;++i)if(o=Zo[i]){for(a=o.site,u=(s=o.halfedges).length;u--;)Jo[s[u]]||s.splice(u,1);for(u=0,l=s.length;u<l;)d=(p=Uo(o,Jo[s[u]]))[0],_=p[1],h=(c=Do(o,Jo[s[++u%l]]))[0],f=c[1],(Math.abs(d-h)>Qo||Math.abs(_-f)>Qo)&&(s.splice(u,0,Jo.push(To(a,p,Math.abs(d-t)<Qo&&r-_>Qo?[t,Math.abs(h-t)<Qo?f:r]:Math.abs(_-r)<Qo&&n-d>Qo?[Math.abs(f-r)<Qo?h:n,r]:Math.abs(d-n)<Qo&&_-e>Qo?[n,Math.abs(h-n)<Qo?f:e]:Math.abs(_-e)<Qo&&d-t>Qo?[Math.abs(f-e)<Qo?h:t,e]:null))-1),++l);l&&(g=!1)}if(g){var y,m,w,b=1/0;for(i=0,g=null;i<v;++i)(o=Zo[i])&&(w=(y=(a=o.site)[0]-t)*y+(m=a[1]-e)*m)<b&&(b=w,g=o);if(g){var x=[t,e],A=[t,r],C=[n,r],P=[n,e];g.halfedges.push(Jo.push(To(a=g.site,x,A))-1,Jo.push(To(a,A,C))-1,Jo.push(To(a,C,P))-1,Jo.push(To(a,P,x))-1)}}for(i=0;i<v;++i)(o=Zo[i])&&(o.halfedges.length||delete Zo[i])}(a,u,s,l)}this.edges=Jo,this.cells=Zo,Go=Xo=Jo=Zo=null}ea.prototype={constructor:ea,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Do(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,u,s,l,c=n.site,h=-1,f=e[i[o-1]],p=f.left===c?f.right:f.left;++h<o;)a=p,p=(f=e[i[h]]).left===c?f.right:f.left,a&&p&&r<a.index&&r<p.index&&(s=a,l=p,((u=c)[0]-l[0])*(s[1]-u[1])-(u[0]-s[0])*(l[1]-u[1])<0)&&t.push([c.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var s=t-i.site[0],l=e-i.site[1],c=s*s+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=t-u[0],l=e-u[1],h=s*s+l*l;h<c&&(c=h,a=u.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};Math.SQRT2;function na(t,e,n){this.k=t,this.x=e,this.y=n}na.prototype={constructor:na,scale:function(t){return 1===t?this:new na(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new na(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new na(1,0,0);na.prototype;function ra(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}function ia(t,e){if(e>t.length)throw"array length < sample count";return ra(t).slice(0,e)}function oa(t){return ia(t,1)[0]}function aa(t,e){return t.filter(t=>!e.includes(t))}class ua{constructor(t,e){this._name=t,this._next=null,this._prev=null,this._suspect=e,this._cards=[]}get cards(){return this._cards}get isAI(){return!1}get isInPlace(){return"place"===this._suspect.tile.place.type}get name(){return this._suspect.name}get next(){return this._next}set next(t){this._next=t}get prev(){return this._prev}set prev(t){this._prev=t}get suspect(){return this._suspect}get tile(){return this._suspect.tile}addCard(t){this._cards.push(t)}ask(t,e,n){let r=this._next;for(;r!==this;){for(const i of[t,e,n]){const t=r.holds(i);if(t.length>0)return{player:r.suspect.name,card:t[0]}}r=r.next}return null}holds(t){return this._cards.filter(e=>e.name===t)}toString(){const t=this._cards.join("\n\t");return`[Player ${this.suspect.name} \n\t${t}\n]`}}var sa=n(5);var la={agora:{legend:"A",name:"Agora",path:"assets/agora.jpeg",type:"place"},alcibiades:{name:"Alcibiades",path:"assets/alcibiades.jpeg"},athena:{name:"Athena",path:"assets/athena.jpeg"},barrel:{legend:"D",name:"Diogenes' barrel",path:"assets/barrel.jpeg",type:"place"},bouleuterion:{legend:"B",name:"Bouleuterion",path:"assets/bouleuterion.jpeg",type:"place"},bow:{name:"Bow",path:"assets/bow.png"},charmides:{name:"Charmides",path:"assets/charmides.jpeg"},critias:{name:"Critias",path:"assets/critias.jpeg"},dagger:{name:"Dagger",path:"assets/dagger.png"},heraclitus:{name:"Heraclitus",path:"assets/heraclitus.jpeg"},hill:{legend:"H",name:"Hill of the Muses",path:"assets/hill.jpeg",type:"place"},library:{legend:"L",name:"Library",path:"assets/library.jpeg",type:"place"},lysander:{name:"Lysander",path:"assets/lysander.jpeg"},parthenon:{legend:"P",name:"Parthenon",path:"assets/parthenon.jpeg",type:"place"},plato:{name:"Plato",path:"assets/plato.jpeg"},poison:{name:"Cup of poison",path:"assets/poison.jpeg"},rope:{name:"Rope",path:"assets/rope.jpeg"},sickle:{name:"Sickle",path:"assets/sickle.jpeg"},socrates:{name:"Socrates",path:"assets/socrates.jpeg"},temple:{legend:"U",name:"Temple of Athena",path:"assets/temple.jpeg",type:"place"},theater:{legend:"T",name:"Theater",path:"assets/theater.jpeg",type:"place"},treachery:{name:"Treachery",path:"assets/treachery.png"},tree:{legend:"S",name:"Socrates' favourite olive tree",path:"assets/tree.jpeg",type:"place"},emtpySpace:{name:"_",legend:"_",path:"assets/socrates.jpeg",type:"other"},path:{name:"_",legend:".",type:"path"}};var ca=[{legend:la.agora.legend,place:la.agora.name,type:la.agora.type,path:la.agora.path},{legend:la.bouleuterion.legend,place:la.bouleuterion.name,type:la.agora.type,path:la.bouleuterion.path},{legend:la.barrel.legend,place:la.barrel.name,type:la.barrel.type,path:la.barrel.path},{legend:la.hill.legend,place:la.hill.name,type:la.hill.type,path:la.hill.path},{legend:la.library.legend,place:la.library.name,type:la.library.type,path:la.library.path},{legend:la.parthenon.legend,place:la.parthenon.name,type:la.parthenon.type,path:la.parthenon.path},{legend:la.tree.legend,place:la.tree.name,type:la.tree.type,path:la.tree.path},{legend:la.theater.legend,place:la.theater.name,type:la.theater.type,path:la.theater.path},{legend:la.temple.legend,place:la.temple.name,type:la.temple.type,path:la.temple.path},{legend:la.emtpySpace.legend,place:la.emtpySpace.name,type:la.emtpySpace.type,path:la.emtpySpace.path},{legend:".",place:"Path",type:"path",path:null}];var ha=[["D","D","D","D","D",".",".","S","S","S","S","S",".","L","L","L","L","L",".",".","B","B","B"],["D","D","D","D","D",".",".","S","S","S","S","S",".","L","L","L","L","L",".",".","B","B","B"],["D","D","D","D","D",".",".","S","S","S","S","S",".","L<","L","L","L","L",".",".","B","B","B"],["D","D","D","D","D",".",".","S","S","S","S","S",".","L","L","L","L","L",".",".","B","B","B"],["D","D","D","D","Dv",".",".","S","Sv","S","S","S",".","L","L","L","L","L",".",".","B<","B","B"],[".",".",".",".",".",".",".",".",".",".",".",".",".","L","L","Lv","L","L",".",".","B","B","B"],[".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],["A","A","A","A","A","A","A",".",".","_","_","_","_","_","_","_",".","T","T","T","T^","T","T"],["A","A","A","A","A","A","A",".",".","_","_","_","_","_","_","_",".","T","T","T","T","T","T"],["A","A","A","A","A","A","A>",".",".","_","_","_","_","_","_","_",".","T<","T","T","T","T","T"],["A","A","A","A","A","A","A>",".",".","_","_","_","_","_","_","_",".","T<","T","T","T","T","T"],["A","A","A","A","A","A","A>",".",".","_","_","_","_","_","_","_",".","T","T","T","T","T","T"],["A","A","A","A","A","A","A",".",".",".",".",".",".",".",".",".",".","T","T","T","T","T","T"],["A","A","A","A","Av","A","A",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","P","P","P","P^","P","P","P",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","P","P","P","P","P","P","P",".",".",".","H<","H","H","H","H"],["U","U","U","U","U","U",".",".","P","P","P","P","P","P","P",".",".",".","H","H","H","H","H"],["U","U","U","U","U","U>",".",".","P","P","P","P","P","P","P>",".",".",".","H","H","H","H","H"],["U","U","U","U","U","U",".",".","P","P","P","P","P","P","P",".",".",".","H","H","H","H","H"],["U","U","U","U","U","U",".",".","P","P","P","P","P","P","P",".",".",".","H","H","H","H","H"],["U","U","U","U","U","U",".",".","P","P","P","P","P","P","P",".",".",".","H","H","H","H","H"],["U","U","U","U","U","U",".",".","P","P","P","P","P","P","P",".",".",".","H","H","H","H","H"]];class fa{constructor(t,e){this._name=t,this._path=e,this._tile=null}get name(){return this._name}get path(){return this._path}get tile(){return this._tile}set tile(t){this._tile=t}putOn(t){null!==this._tile&&this._tile.deoccupy(),this._tile=t,this._tile.occupyWith(this)}}class pa extends fa{constructor(t,e){super(t,e)}toString(){return`[Suspect ${this._name}]`}}class da extends fa{constructor(t,e){super(t,e)}toString(){return`[Weapon ${this._name}]`}}class _a{constructor(t,e,n,r,i){this._name=t,this._place=e,this._x=n,this._y=r,this._direction={">":!1,"<":!1,"^":!1,v:!1},this._gate=i,null!==this._gate&&(this._direction[this._gate]=!0),this._isOccupied=!1,this._occupant=null,this._neighbors=new Map([["up",null],["down",null],["left",null],["right",null]])}get gate(){return this._gate}get name(){return this._name}get neighbors(){return this._neighbors}get occupant(){return this._occupant}get occupied(){return this._isOccupied}set occupied(t){this._isOccupied=t}get place(){return this._place}get x(){return this._x}get y(){return this._y}occupyWith(t){this._occupant=t,this._isOccupied=!0}deoccupy(){this._occupant=null,this._isOccupied=!1}isOtherRoomAndNoGate(t){return this.isOtherRoom(t)&&this.isNoGate(t)}isOtherRoomAndNoNeighborVerticalGate(t){return this.isOtherRoom(t)&&t.isVerticalGate()}isOtherRoom(t){return null!==t&&t.name!==this.name}isGate(){return null!==this.gate}isVerticalGate(){return this.isGateRight()||this.isGateLeft()}isGateRight(){return this._direction[">"]}isGateLeft(){return this._direction["<"]}isNoGate(t){return null!==t&&null===this.gate&&null===t.gate}canReach(t){return null!==t&&(this._name===t._name||this.isGate()||t.isGate())}hashCode(){const t=String(this.x)+"/"+String(this.y);let e=0;for(let n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e|=0}return e}}class va{constructor(t,e,n,r){this._name=t,this._abbreviation=e,this._path=r,this._type=n,this._tiles=[],this._isDrawn=!1}get isDrawn(){return this._isDrawn}set isDrawn(t){this._isDrawn=t}get isPlace(){return"place"===this._type}get type(){return this._type}get name(){return this._name}get ncol(){const t=this._tiles.map((function(t){return t.y}));return new Set(t).size}get nrow(){const t=this._tiles.map((function(t){return t.x}));return new Set(t).size}get path(){return this._path}get tiles(){return this._tiles}add(t){this._tiles.push(t)}}const ga=[new pa(la.alcibiades.name,la.alcibiades.path),new pa(la.charmides.name,la.charmides.path),new pa(la.critias.name,la.critias.path),new pa(la.heraclitus.name,la.heraclitus.path),new pa(la.lysander.name,la.lysander.path),new pa(la.plato.name,la.plato.path)],ya=[new da(la.bow.name,la.bow.path),new da(la.dagger.name,la.dagger.path),new da(la.poison.name,la.poison.path),new da(la.rope.name,la.rope.path),new da(la.sickle.name,la.sickle.path),new da(la.treachery.name,la.treachery.path)];class ma{constructor(){this._weapons=Array.from(ya),this._suspects=Array.from(ga),this._places=this._initPlaces(),this._adjacenyMatrix=this._initBoard(),this._distributeSuspectsToRooms(),this._distributeWeaponsToRooms()}get adjacency(){return this._adjacenyMatrix}get pieces(){return this._suspects.concat(this._weapons)}get suspects(){return this._suspects}get weapons(){return this._weapons}get places(){return this._places}_initPlaces(){const t=new Map;for(const e of ca){const n=new va(e.place,e.legend,e.type,e.path);t.set(e.legend,n)}return t}_initBoard(){const t=[];for(let e=0;e<ha.length;e++){t[e]=[];for(let n=0;n<ha[e].length;n++){const r=ha[e][n].split(""),i=this._places.get(r[0]);t[e][n]=new _a(r[0],i,e,n,r[1]||null),i&&i.add(t[e][n])}}for(let e=0;e<ha.length;e++)for(let n=0;n<ha[e].length;n++)e>0&&t[e][n].neighbors.set("up",t[e-1][n]||null),e<ha.length-1&&t[e][n].neighbors.set("down",t[e+1][n]||null),n>0&&t[e][n].neighbors.set("left",t[e][n-1]||null),n<ha[e].length-1&&t[e][n].neighbors.set("right",t[e][n+1]||null);return t}_distributeSuspectsToRooms(){let t=this._getPlaces();t=ia(t,this._suspects.length);for(let e=0;e<this._suspects.length;e++)this.putOnRandomTile(this._suspects[e],t[e])}_distributeWeaponsToRooms(){let t=this._getPlaces();t=ia(t,this._weapons.length);for(let e=0;e<this._weapons.length;e++)this.putOnRandomTile(this._weapons[e],t[e])}_getPlaces(){return sa.filter([...this._places.values()],t=>t.isPlace)}putOnRandomTile(t,e){const n=this.getFreeTile(e);return t.putOn(n),n}getFreeTile(t){const e=ra(t.tiles);for(const t of e)if(!t.occupied)return t}getPiece(t){for(const e of this.pieces)if(e.name===t)return e;return null}computePath(t,e){const n=function(t,e,n){let r=[];const i=new Map,o=new Map;for(let t=0;t<n.length;t++)for(let e=0;e<n[t].length;e++)o.set(n[t][e].hashCode(),1e4),i.set(n[t][e].hashCode(),null),r.push(n[t][e]);for(o.set(t.hashCode(),0);r.length;){const t=r.reduce((function(t,e){return o.get(t.hashCode())<o.get(e.hashCode())?t:e}));if(r=r.filter((function(e){return t.x!==e.x||e.y!==t.y})),t===e)return{previous:i,distance:o};for(const e of t.neighbors.values())if(null!==e&&!e.occupied&&t.canReach(e)){const n=o.get(t.hashCode())+1;n<o.get(e.hashCode())&&(o.set(e.hashCode(),n),i.set(e.hashCode(),t))}}return{previous:i,distance:o}}(t,e,this._adjacenyMatrix),r=[];let i=e;for(;i!==t;)r.push(i),i=n.previous.get(i.hashCode());return r.reverse()}computeNeighbors(t,e){return function(t,e,n){const r=[],i=new Map,o=new Map;i.set(e.hashCode(),0);for(let t=0;t<n.length;t++)for(let e=0;e<n[t].length;e++)o.set(n[t][e].hashCode(),!1);const a=[e];for(;a.length;){const e=a.shift();r.push(e);for(const n of e.neighbors.values())null===n||n.occupied||o.get(n.hashCode())||!e.canReach(n)||(i.set(n.hashCode(),i.get(e.hashCode())+1),o.set(n.hashCode(),!0),i.get(n.hashCode())<=t&&a.push(n))}return r}(t,e,this._adjacenyMatrix)}}class wa{constructor(){this._die=[1,2,3,4,5,6]}cast(){return oa(this._die)+oa(this._die)}}class ba{constructor(t,e){this.toString=()=>`[Card ${this._name}]`,this._name=t,this._path=e}get name(){return this._name}get path(){return this._path}}class xa extends ba{}class Aa extends ba{}class Ca extends ba{}const Pa=new xa("Socrates",null),Sa=[new xa(la.alcibiades.name,la.alcibiades.path),new xa(la.charmides.name,la.charmides.path),new xa(la.critias.name,la.critias.path),new xa(la.heraclitus.name,la.heraclitus.path),new xa(la.lysander.name,la.lysander.path),new xa(la.plato.name,la.plato.path)],Ma=[new Ca(la.bow.name,la.bow.path),new Ca(la.dagger.name,la.dagger.path),new Ca(la.poison.name,la.poison.path),new Ca(la.rope.name,la.rope.path),new Ca(la.sickle.name,la.sickle.path),new Ca(la.treachery.name,la.treachery.path)],Ta=[new Aa(la.agora.name,la.agora.path),new Aa(la.barrel.name,la.barrel.path),new Aa(la.bouleuterion.name,la.bouleuterion.path),new Aa(la.hill.name,la.hill.path),new Aa(la.library.name,la.library.path),new Aa(la.parthenon.name,la.parthenon.path),new Aa(la.temple.name,la.temple.path),new Aa(la.theater.name,la.theater.path),new Aa(la.tree.name,la.tree.path)];class ka{constructor(){this._murderer=oa(Sa),this._weapon=oa(Ma),this._place=oa(Ta),this._victim=Pa,this._availableCards=[...this._availableWeapons(),...this._availableSuspects(),...this._availablePlaces()]}get suspects(){return Sa}get weapons(){return Ma}get places(){return Ta}get availableCards(){return this._availableCards}set availableCards(t){this._availableCards=t}murderCase(){return{victim:this._victim,murderer:this._murderer,place:this._place,weapon:this._weapon}}randomAvailableCard(){const t=oa(this._availableCards);return this._availableCards=this._availableCards.filter(e=>e.name!==t.name),t}_availableSuspects(){return Sa.filter(t=>t.name!==this._murderer.name)}_availableWeapons(){return Ma.filter(t=>t.name!==this._weapon.name)}_availablePlaces(){return Ta.filter(t=>t.name!==this._place.name)}}class La extends ua{constructor(t,e,n,r){super(t,e),this._board=n,this._allWeapons=r.weapons.map(t=>t.name),this._allSuspects=r.suspects.map(t=>t.name),this._allPlaces=r.places.map(t=>t.name),this._hasSeenPlaces=[],this._hasSeenWeapons=[],this._hasSeenSuspects=[],this._target=null}get isAI(){return!0}get name(){return this._suspect.name+" (AI)"}get target(){return this._target}addCard(t){super.addCard(t),this.addSeenCard(t)}addSeenCard(t){const e=t.constructor.name;"Suspect"===e?this._hasSeenSuspects.push(t.name):"Weapon"===e?this._hasSeenWeapons.push(t.name):this._hasSeenPlaces.push(t.name)}wantToCast(){if(!this.isInPlace)return!0;return this._hasSeenPlaces.includes(this.suspect.tile.place.name)?Math.random()<.5:Math.random()<.25}computeDestination(t){if(null===this._target){const t=oa(aa(this._allPlaces,this._hasSeenPlaces)),e=sa.filter([...this._board.places.values()],e=>e.name===t);this._target=e[0]}const e=this._board.getFreeTile(this._target);return this._board.computePath(this.tile,e).slice(0,t)}suggest(){return{weapon:oa(aa(this._allWeapons,this._hasSeenWeapons)),suspect:oa(aa(this._allSuspects,this._hasSeenSuspects))}}wantsToAccuse(){return this._hasSeenPlaces.length+1===this._allPlaces.length&&this._hasSeenWeapons.length+1===this._allWeapons.length&&this._hasSeenSuspects.length+1===this._allSuspects.length}accuse(){const t=aa(this._allWeapons,this._hasSeenWeapons),e=aa(this._allSuspects,this._hasSeenSuspects),n=aa(this._allPlaces,this._hasSeenPlaces);return{weapon:t[0],suspect:e[0],place:n[0]}}toString(){const t=this._cards.join("\n\t"),e=[...this._hasSeenWeapons,...this._hasSeenSuspects,...this._hasSeenPlaces].sort().join(", ");return`[AI ${this.suspect.name} \n\t${t}\n\t[Seen ${e}]\n]`}}class Ia{constructor(t,e){this._board=new ma,this._dice=new wa,this._cards=new ka,this._players=this._initPlayers(t,e),this._currentPlayer=this._players[0],this._dealCards()}get currentPlayerIsAI(){return this._currentPlayer.isAI}get dice(){return this._dice}get cards(){return this._cards}get board(){return this._board}get currentPlayer(){return this._currentPlayer}get players(){return this._players}get nPlayers(){return this._players.length}_initPlayers(t,e){const n=t+e,r=[],i=ia(this._board.suspects,n),o=ra([...Array(t).fill(ua),...Array(e).fill(La)]);for(let t=0;t<n;t++)r.push(new o[t](t,i[t],this._board,this._cards)),t>0&&(r[t-1].next=r[t],r[t].prev=r[t-1]),t===n-1&&(r[t].next=r[0],r[0].prev=r[t]);return r}_dealCards(){for(;this._players.length;)for(let t=0;t<this._players.length;t++){if(!this._cards.availableCards.length)return;this._players[t].addCard(this._cards.randomAvailableCard())}}ask(t,e){return this._currentPlayer.ask(t,this._currentPlayer.tile.place.name,e)}cast(){return this._dice.cast()}computePath(t,e){return this._board.computePath(t,e)}getTile(t,e){return this._board.adjacency[t][e]}getPlayerTile(){return this._currentPlayer.tile}isSolved(t,e,n){const r=this._cards.murderCase();return r.murderer.name===t&&r.place.name===e&&r.weapon.name===n}moveToPlayerPlace(t){const e=this._board.getPiece(t);return{oldTile:e.tile,newTile:this._board.putOnRandomTile(e,this._currentPlayer.tile.place)}}murderCase(){return this._cards.murderCase()}nextPlayer(){0!==this.nPlayers&&(this._currentPlayer=this._currentPlayer.next)}putCurrPlayerSuspectPieceOn(t){this._currentPlayer.suspect.putOn(t)}removeCurrentPlayer(){if(0===this._players.length)return;const t=this._currentPlayer.cards;this._cards.availableCards=t;const e=this._currentPlayer.next,n=this._currentPlayer.prev;n.next=e,e.prev=n,this._players=this._players.filter(t=>t.name!==this._currentPlayer.name),this._dealCards()}tilesInRangeOfCurrPlayer(t){const e=this.currentPlayer.suspect.tile;return this._board.computeNeighbors(t,e)}}var ja=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))};class Da{constructor(t){this._athenaHeight=400,this._athenaWidth=200,this._helpWidth=250,this._width=600,this._height=600,this._accuseButtonId="accuse_button",this._athenaDiv="athena_div",this._boardDiv="board_div",this._buttonsId="buttons",this._castButtonId="cast_die_button",this._finishMoveButtonId="finish_move_button",this._infoDiv="info_div",this._infoHeader="info_header",this._infoText="info_text",this._legendDiv="legend_div",this._legendNextButton="legend_next_button",this._legendIntroHelp="legend_intro_help",this._placesSelectDiv="places_select_div",this._placeSelectList="places_select_list",this._playerCardsList="player_card_list",this._revealCardButton="show_revealed_card_button",this._revealCardParagraph="show_revealed_card_paragraph",this._sectionLegend="section_legend",this._showCardsButton="show_cards_button",this._suggestButtonId="suggest_button",this._selectListsId="card_list",this._selectSuggestButtonId="select_suggest_button",this._selectAccuseButtonId="select_accuse_button",this._suspectsSelectDiv="suspects_select_div",this._suspectsSelectList="suspects_select_list",this._weaponsSelectDiv="weapons_select_div",this._weaponsSelectList="weapons_select_list",this._sectionLegendMarginRight=["-75px","-75px","-75px","-75px"],this._sectionLegendMarginTop=["0px","0px","-25px","-25px"],this._introTextIndex=0,this._paintedTiles=[],this._intro=()=>{const t=this._introTextIndex;return Ct("#"+this._sectionLegend).style("margin-right",this._sectionLegendMarginRight[t]).style("margin-top",this._sectionLegendMarginTop[t]),t<this._introTexts.length&&this._showText(this._legendIntroHelp,this._introTexts[t]),2===t?Ct("#"+this._boardDiv).style("display","block"):t===this._introTexts.length-1&&(Ct("#"+this._legendNextButton).style("display","none"),Ct("#"+this._infoDiv).style("display","block"),Ct("#"+this._legendDiv).style("display","block"),this._printPlayer()),this._introTextIndex++,this._introTextIndex},this.showCards=()=>{const t=Ct("#"+this._showCardsButton),e=Ct("#"+this._playerCardsList);"none"===e.style("display")?(e.style("display","block"),t.text("Hide cards")):(e.style("display","none"),t.text("Show cards"))},this.showRevealCard=()=>{const t=Ct("#"+this._revealCardButton),e=Ct("#"+this._revealCardParagraph);"none"===e.style("display")?(e.style("display","block"),t.text("Hide card")):(e.style("display","none"),t.text("Reveal card"))},this._model=t,this._board=this._model.board,this._adj=this._board.adjacency,this._suspectPieces=this._board.suspects,this._weaponPieces=this._board.weapons,this._playerPiecesNames=this._model.players.map(t=>t.suspect.name),this._introTexts=["Welcome. I am the goddess Athena, patron of the city of Athens, and I come with bad news. One of my favorite disciples, Socrates, has been murdered.","To not let this crime go unpunished, I instructed some of his acquaintances,"+this._playerPiecesNames.slice(0,-1).join(", ")+" and "+this._playerPiecesNames.pop()+" (one for each player), to expose his murderer.","The crime has been committed by 1 of "+this._suspectPieces.length+" suspects with 1 of "+this._weaponPieces.length+" weapons which are distributed in different places in Athens. I assume the murder has been committed in one of these places.","Each round a player can 'cast a die' to move between places, make a 'suggestion' to get information about suspects/weapons/places and 'accuse' someone to end the game. Now, please help me and expose the murder and save the open society.","null"],this._buildElements(),this._initAthena(),this._initBoard(),this._initInfo(),this._initLegend(),this._intro()}_buildElements(){const t=Ct("#app").append("div").attr("class","row").attr("align","center");t.append("h1").text("Cluedo - ancient Greece edition"),t.append("h2").text("Expose Socrates' murderer."),t.append("div").attr("id",this._athenaDiv).attr("class","column left").attr("align","right"),t.append("div").attr("id",this._boardDiv).attr("class","column").style("display","none").style("width",this._width+10).style("height",this._height),t.append("div").attr("id",this._infoDiv).attr("class","column right").style("display","none"),Ct("#app").append("div").attr("class","row").attr("align","center").attr("id",this._legendDiv).style("display","none")}_initAthena(){const t=Ct("#"+this._athenaDiv).append("section").attr("class","message-list"),e=t.append("section").attr("id",this._sectionLegend).attr("class","message -right column").style("width","300px");e.append("div").attr("class","nes-balloon from-right hide-when-small").append("p").attr("id",this._legendIntroHelp).style("font-size","10px"),e.append("div").attr("class","nes-balloon from-right show-when-small").append("p").text("Unfortunately your display is too small to play. Save the open society another time.").style("font-size","10px"),t.append("svg").attr("height",500).attr("width",this._athenaWidth).append("svg:image").attr("height",this._athenaHeight).attr("width",this._athenaWidth).attr("y",100).attr("xlink:href",la.athena.path),this._newButton(Ct("#"+this._athenaDiv),this._legendNextButton,"Next").attr("class","nes-btn hide-when-small")}_showText(t,e){Ct("#"+t).text(e)}_newButton(t,e,n){return t.append("button").attr("class","nes-btn").attr("type","button").attr("name","action").attr("id",e).text(n)}_initBoard(){this._initTiles(),this._drawPieces("Suspects",this._board.suspects),this._drawPieces("Weapons",this._board.weapons),this._drawSocrates()}_initTiles(){const t=Ct("#"+this._boardDiv).append("div").attr("class","hide-when-small").append("svg").attr("width",this._width+5).attr("height",this._height+5);for(let e=0;e<this._adj.length;e++){const n=this._row(t,e);for(let t=0;t<this._adj[e].length;t++){const r=this._adj[e][t],i=this._g(n,e,t);this._initPlace(i,e,t,r,r.place);const o=this._rect(i,r,e,t);this._path(i,o,r)}}}_row(t,e){return t.append("g").attr("width",this._width+5).attr("transform","translate(0,"+e*(this._height/this._adj.length)+")").style("display","flex")}_g(t,e,n){return t.append("g").attr("id","id_"+e+"_"+n)}_initPlace(t,e,n,r,i){!i.isDrawn&&i.isPlace&&(i.isDrawn=!0,t.append("svg:image").attr("x",this._width/this._adj[e].length*n).attr("height",((this._height-1)/this._adj.length-1)*i.nrow).attr("xlink:href",i.path))}hideButtons(){for(const t of[this._castButtonId,this._accuseButtonId,this._suggestButtonId,this._finishMoveButtonId,this._revealCardButton])this._hide(t)}_rect(t,e,n,r){return t.append("rect").attr("id","id_r_"+n+"_"+r).attr("width",(this._width-1)/this._adj[n].length-1).attr("height",(this._height-1)/this._adj.length-1).attr("fill","lightgray").attr("fill-opacity",.5).attr("x",this._width/this._adj[n].length*r).attr("row",n).attr("col",r)}_path(t,e,n){const r=parseFloat(e.attr("x")),i=parseFloat(e.attr("width")),o=parseFloat(e.attr("height"));null===n.neighbors.get("left")?t.append("polyline").attr("points","0.5,0 0.5,"+o):null===n.neighbors.get("right")&&t.append("polyline").attr("points",r+i+",0 "+(r+i)+","+o),n.isOtherRoomAndNoGate(n.neighbors.get("right"))&&t.append("polyline").attr("points",r+i+",0 "+(r+i)+","+o),n.isOtherRoomAndNoGate(n.neighbors.get("down"))&&t.append("polyline").attr("points",r+",  "+(o-2)+" "+(r+i)+","+(o-2)),n.isOtherRoomAndNoNeighborVerticalGate(n.neighbors.get("down"))&&t.append("polyline").attr("points",r+",  "+(o-2)+" "+(r+i)+","+(o-2)),n.isGateRight()&&n.isOtherRoom(n.neighbors.get("down"))&&t.append("polyline").attr("points",r+",  "+(o-2)+" "+(r+i)+","+(o-2)),null===n.neighbors.get("up")?t.append("polyline").attr("points",r+",0.5 "+(r+i)+",0.5"):null===n.neighbors.get("down")&&t.append("polyline").attr("points",r+",  "+(o-2)+" "+(r+i)+","+(o-2))}_drawPieces(t,e){for(const t of e)this._drawPiece(t.tile,t)}_drawSocrates(){const t=this._board.places.get("_");Ct("#id_7_9").append("svg:image").attr("x",this._width/this._adj[7].length*9).attr("height",((this._height-1)/this._adj.length-1)*t.nrow).attr("xlink:href",t.path);for(const e of t.tiles)Ct("#id_r_"+e.x+"_"+e.y).attr("fill","transparent")}_drawPiece(t,e){Ct("#id_"+t.x+"_"+t.y).append("svg:image").attr("x",this._width/this._adj[t.x].length*t.y).attr("width",(this._width-1)/this._adj[t.x].length-1).attr("height",(this._height-1)/this._adj.length-1).attr("xlink:href",e.path)}_removePiece(t){Ct("#id_"+t.x+"_"+t.y).selectAll("image").remove()}_initLegend(){this._initLegendForPieces("Players",this._model.players.map((function(t){return t.suspect}))),this._initLegendForPieces("Suspects",this._board.suspects.sort()),this._initLegendForPieces("Weapons",this._board.weapons.sort()),this._initLegendForPieces("Places",Object.values(this._board.places).sort()),this._initButtonDescription()}_initLegendForPieces(t,e){const n=Ct("#"+this._legendDiv).append("div").attr("class","small-column hide-when-small");n.append("h5").html(t),n.append("ul").attr("id","legend_"+t),this._initLegendPieceList("legend_"+t,e)}_initLegendPieceList(t,e){const n=Ct("#"+t);n.selectAll("li").remove();for(const t of e)"_"!==t.name&&n.append("li").append("span").text(t.name+" ").append("svg").attr("width",30).attr("height",30).append("svg:image").attr("width",30).attr("xlink:href",t.path)}_initButtonDescription(){const t=Ct("#"+this._legendDiv).append("div").attr("class","small-column hide-when-small");t.append("h5").html("Buttons");t.append("ul").selectAll("li").data(["Cast die: throw two dice and move your figure on the board","Suggest: ask your co-players for a suspect/place/weapon card","Accuse: name a suspect/place/weapon and possibly end the game","Next player: finish move and start next player's turn"]).enter().append("li").text((function(t){return t}))}_initInfo(){const t=Ct("#"+this._infoDiv).style("width",this._helpWidth).append("div").attr("class","hide-when-small");t.append("h3").html("Info");let e=t.append("div");const n=this.showCards;this._newButton(e,this._showCardsButton,"Show cards").style("margin-bottom","20px").on("click",(function(){n()})),e.append("ul").attr("id",this._playerCardsList).style("display","none"),e=t.append("div").attr("id",this._infoHeader),e.append("div").style("overflow","hidden").append("p").attr("id",this._infoText),this.showInfo("You have the following options:"),e=Ct("#"+this._infoHeader).append("div");const r=this.showRevealCard;let i=this._newButton(e,this._revealCardButton,"Reveal card");i.style("display","none").on("click",(function(){r()})),e.append("p").attr("id",this._revealCardParagraph).style("display","none"),e=Ct("#"+this._infoHeader).append("div").attr("id",this._buttonsId),this._newButton(e.append("div"),this._castButtonId,"Cast die"),this._newButton(e.append("div"),this._suggestButtonId,"Suggest"),this._newButton(e.append("div"),this._accuseButtonId,"Accuse"),this._newButton(e.append("div"),this._finishMoveButtonId,"Next player"),Ct("#"+this._infoHeader).append("div").attr("id",this._selectListsId).style("text-align","left"),this._initSelectLists("Suspects: ",this._suspectsSelectDiv,this._suspectsSelectList,this._model.cards.suspects),this._initSelectLists("Weapons: ",this._weaponsSelectDiv,this._weaponsSelectList,this._model.cards.weapons),this._initSelectLists("Places:",this._placesSelectDiv,this._placeSelectList,this._model.cards.places),e=Ct("#"+this._infoHeader).append("div"),i=this._newButton(e,this._selectSuggestButtonId,"Suggest"),i.style("display","none"),e=Ct("#"+this._infoHeader).append("div"),i=this._newButton(e,this._selectAccuseButtonId,"Accuse"),i.style("display","none")}_initSelectLists(t,e,n,r){Ct("#"+this._selectListsId).append("div").attr("align","center").attr("id",e).style("display","none").append("select").attr("align","center").attr("id",n).selectAll("option").data(r.sort()).enter().append("option").attr("value",(function(t){return t.name})).text((function(t){return t.name}))}_printPlayer(){Ct("#"+this._sectionLegend).style("margin-right","-75px").style("margin-top","50px"),Ct("#"+this._legendIntroHelp).style("width","120px").text(this._model.currentPlayer.name+"'s turn"),Ct("#"+this._playerCardsList).selectAll("li").remove();const t=Ct("#"+this._playerCardsList);for(const e of this._model.currentPlayer.cards.sort())t.append("li").append("span").text(e.name)}drawExit(){Ct("#"+this._infoDiv).selectAll("div").remove(),Ct("#"+this._infoDiv).append("div").text("You all lost. Good job. Reload the page if you want to give it another try.\n")}drawTiles(t,e,n){n?this.appendInfo(`${this._model.currentPlayer.name} cast: ${e}.\n`):this.showInfo(`${this._model.currentPlayer.name} cast: ${e}.\n`);for(const t of this._paintedTiles)this._paintTile(t.x,t.y,"lightgray");for(const e of t)this._paintTile(e.x,e.y,"#C79999");this._paintedTiles=t}_paintTile(t,e,n){return Ct("#id_r_"+t+"_"+e).style("fill",n)}showInline(t){Ct("#"+t).style("display","inline")}_hide(t){Ct("#"+t).style("display","none")}wait(t){return ja(this,void 0,void 0,(function*(){yield function(t){return new Promise(e=>setTimeout(e,t))}(t)}))}_getCheckedOption(t){return Ct("#"+t).select("option:checked").text()}makeMove(t,e,n){return ja(this,void 0,void 0,(function*(){for(const t of this._paintedTiles){n.filter((function(e){return e.x===t.x&&e.y===t.y})).length||this._paintTile(t.x,t.y,"lightgray")}yield this.wait(500);let e=t;for(const t of n)yield this._drawPiece(t,this._model.currentPlayer.suspect),yield this._removePiece(e),e=t,yield this._paintTile(e.x,e.y,"lightgray"),yield this.wait(500)}))}appendInfo(t){const e=Ct("#"+this._infoText).text()+" "+t;this.showInfo(e)}showInfo(t){Ct("#"+this._infoText).text(t)}showSuggestions(t){t||this.showInfo("Select a suspect and a weapon:"),Ct("#"+this._suspectsSelectDiv).style("display","block"),Ct("#"+this._weaponsSelectDiv).style("display","block"),Ct("#"+this._selectSuggestButtonId).style("display","inline")}showAccusations(t){t||this.showInfo("Select a suspect, weapon and place:"),Ct("#"+this._suspectsSelectDiv).style("display","block"),Ct("#"+this._weaponsSelectDiv).style("display","block"),Ct("#"+this._placesSelectDiv).style("display","block"),Ct("#"+this._selectAccuseButtonId).style("display","inline")}showHolds(t,e){return ja(this,void 0,void 0,(function*(){this._hide(this._suspectsSelectDiv),this._hide(this._weaponsSelectDiv),this._hide(this._selectSuggestButtonId);const n=this._model.currentPlayer.name;null!==t?e?this.appendInfo(`${t.player} showed ${n} a card.`):(this.showInfo(`${t.player} showed ${n} a card.`),Ct("#"+this._revealCardButton).style("display","inline"),Ct("#"+this._revealCardParagraph).text(t.card.name)):this.appendInfo(n+" didn't receive any card."),e&&(yield this.wait(2e3))}))}updatePiece(t,e){this._drawPiece(e,e.occupant),this._removePiece(t)}makeAccusation(t){this._hide(this._suspectsSelectDiv),this._hide(this._weaponsSelectDiv),this._hide(this._placesSelectDiv),this._hide(this._selectAccuseButtonId),t?this.showInfo("Congrats! You won! You saved the open society against its opponents. Restart the game by reloading the page."):this.showInfo("Boo! You are out!")}removePlayerFromLegend(){this._initLegendPieceList("legend_Players",this._model.players.map((function(t){return t.suspect})))}nextPlayer(){this._printPlayer(),this.showInfo("You have the following options:");let t=this._hide;this._model.nPlayers>1&&(t=this.showInline),t(this._castButtonId),t(this._suggestButtonId),t(this._finishMoveButtonId),this.showInline(this._accuseButtonId)}showSuggestButton(){this._model.currentPlayer.isInPlace&&this.showInline(this._suggestButtonId)}showAccuseButton(){this.showInline(this._accuseButtonId)}showFinishButton(){this.showInline(this._finishMoveButtonId)}aiFinishMove(){return ja(this,void 0,void 0,(function*(){yield this.appendInfo(this._model.currentPlayer.name+" finishes his turn'."),yield this.showFinishButton()}))}aiMove(t){return ja(this,void 0,void 0,(function*(){this.hideButtons(),this.showInfo(t.name+" is firing some neurons."),yield this.wait(2e3)}))}aiCast(t){return ja(this,void 0,void 0,(function*(){yield this.appendInfo(t.name+" wants to cast a die."),yield this.wait(2e3),this.appendInfo(t.name+" decides to move "+`to place '${t.target.name}'.`),yield this.wait(2e3)}))}aiAccuse(t,e){return ja(this,void 0,void 0,(function*(){this.appendInfo(t.name+" wants to make am accusation."),yield this.wait(2e3),this.appendInfo(`${t.name} accuses '${e.suspect}' who he thinks committed\n          the murder in '${e.place}' with '${e.weapon}'.`),yield this.wait(2e3)}))}aiSuggest(t,e){return ja(this,void 0,void 0,(function*(){this.appendInfo(t.name+" wants to make a suggestion."),yield this.wait(2e3),this.appendInfo(`${t.name} believes '${e.suspect}'\n           committed the murder in '${t.tile.place.name}'\n           with '${e.weapon}'.`),yield this.wait(2e3)}))}bindCast(t){Ct("#"+this._castButtonId).on("click",t)}bindMove(t){var e;(e="rect","string"==typeof e?new bt([document.querySelectorAll(e)],[document.documentElement]):new bt([null==e?[]:e],wt)).on("click",(function(){t(Ct(this).attr("row"),Ct(this).attr("col"))}))}bindShowCards(t){Ct("#"+this._showCardsButton).on("click",t)}bindSuggest(t){Ct("#"+this._suggestButtonId).on("click",t)}bindMakeSuggestion(t){const e=this._suspectsSelectList,n=this._weaponsSelectList,r=this._getCheckedOption;Ct("#"+this._selectSuggestButtonId).on("click",(function(){t(r(e),r(n))}))}bindAccuse(t){Ct("#"+this._accuseButtonId).on("click",t)}bindMakeAccusation(t){const e=this._suspectsSelectList,n=this._weaponsSelectList,r=this._placeSelectList,i=this._getCheckedOption;Ct("#"+this._selectAccuseButtonId).on("click",(function(){t(i(e),i(n),i(r))}))}bindNextPlayer(t){Ct("#"+this._finishMoveButtonId).on("click",t)}bindStartGame(t){const e=this._intro,n=this._introTexts;Ct("#"+this._legendNextButton).on("click",(function(){e()===n.length&&t()}))}}var Ua=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))};class Na{constructor(t,e,n){if(this.ai_turn=()=>Ua(this,void 0,void 0,(function*(){this._model.currentPlayerIsAI&&(yield this._ai())})),this._ai_think=()=>Ua(this,void 0,void 0,(function*(){const t=yield this._model.currentPlayer;return yield this._view.aiMove(t),yield t.wantToCast()})),this._ai_cast=()=>Ua(this,void 0,void 0,(function*(){const t=yield this._model.currentPlayer,e=yield this.castDie(),n=yield t.computeDestination(e);yield this._view.aiCast(t),yield this._makeMove(this._model.currentPlayer.tile,n[n.length-1],n)})),this._ai_suggest=()=>Ua(this,void 0,void 0,(function*(){const t=yield this._model.currentPlayer,e=yield t.suggest();yield this._view.aiSuggest(t,e);const n=yield this.makeSuggestion(e.suspect,e.weapon);null!==n&&(yield t.addSeenCard(n.card))})),this._ai_accuse=()=>Ua(this,void 0,void 0,(function*(){const t=yield this._model.currentPlayer,e=yield t.accuse();yield this._view.aiAccuse(t,e),yield this.makeAccusation(e.suspect,e.weapon,e.place)})),this._ai=()=>Ua(this,void 0,void 0,(function*(){(yield this._ai_think())&&(yield this._ai_cast()),this._model.currentPlayer.isInPlace&&(yield this._ai_suggest()),this._model.currentPlayer.wantsToAccuse()&&(yield this._ai_accuse()),yield this._view.aiFinishMove()})),this.castDie=()=>{this._isMove=!0,this._pips=this._model.cast();const t=this._model.tilesInRangeOfCurrPlayer(this._pips);return this._view.drawTiles(t,this._pips,this._model.currentPlayer.isAI),this._view.hideButtons(),this._pips},this.move=(t,e)=>Ua(this,void 0,void 0,(function*(){if(!this._isMove)return;const n=yield this._model.getPlayerTile(),r=yield this._model.getTile(t,e),i=yield this._model.computePath(n,r);i.length>this._pips?this._view.appendInfo("You cannot walk that far."):yield this._makeMove(n,r,i)})),this._makeMove=(t,e,n)=>Ua(this,void 0,void 0,(function*(){yield this._view.makeMove(t,e,n),yield this._model.putCurrPlayerSuspectPieceOn(e),this._isMove=!1,this._model.currentPlayer.isAI||(this._view.showSuggestButton(),this._view.showAccuseButton(),this._view.showFinishButton())})),this.suggest=()=>{this._view.hideButtons(),this._view.showSuggestions(this._model.currentPlayerIsAI)},this.makeSuggestion=(t,e)=>Ua(this,void 0,void 0,(function*(){const n=yield this._model.ask(t,e);for(const n of[t,e]){const t=yield this._model.moveToPlayerPlace(n);yield this._view.updatePiece(t.oldTile,t.newTile)}return yield this._view.showHolds(n,this._model.currentPlayerIsAI),this._model.currentPlayerIsAI||(this._view.showAccuseButton(),this._view.showFinishButton()),n})),this.accuse=()=>{this._view.hideButtons(),this._view.showAccusations(this._model.currentPlayerIsAI)},this.makeAccusation=(t,e,n)=>Ua(this,void 0,void 0,(function*(){const r=yield this._model.isSolved(t,n,e);yield this._view.makeAccusation(r),r||(yield this._model.removeCurrentPlayer(),yield this._view.removePlayerFromLegend()),this._model.currentPlayerIsAI||this._view.showFinishButton(),this._checkExit()})),this.nextPlayer=()=>Ua(this,void 0,void 0,(function*(){yield this._model.nextPlayer(),yield this._view.nextPlayer(),yield this._log(),yield this.ai_turn()})),this._checkExit=()=>{0===this._model.players.length&&this._view.drawExit()},this._log=()=>{for(let t=0;t<this._model.players.length;t++)console.log(this._model.players[t].toString());console.log(this._model.murderCase())},void 0===t||t<1)throw"Please provide nPlayers";this._model=e,this._view=n,this._view.bindCast(this.castDie),this._view.bindMove(this.move),this._view.bindSuggest(this.suggest),this._view.bindMakeSuggestion(this.makeSuggestion),this._view.bindAccuse(this.accuse),this._view.bindMakeAccusation(this.makeAccusation),this._view.bindNextPlayer(this.nextPlayer),this._view.bindStartGame(this.ai_turn),this._isMove=!1,this._pips=-1,this._log()}}var Ra=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))};const Ba=t=>{const e=Ct("#"+t).property("value");try{if(""===e||isNaN(e))throw null;if(e>5||e<0)throw null;return parseInt(e)}catch(t){Ct("#intro_span").text("Enter integers in range [1, 6] only!").style("color","darkred")}return null};!function(){let t=Ct("#app").append("div").attr("id","landing_page").attr("class","introduction").attr("align","center");t.append("h1").text("Cluedo - ancient Greece edition"),t.append("h2").text("Expose Socrates' murderer."),t.append("div").text("This version of Cluedo plays in ancient Greece, where Socrates, a true champion of the open society, has been murdered by one of his enemies. Players need to identify the murderer, the weapon the crime was committed with, and its place."),t=t.append("div").style("margin-top","10px").attr("align","center"),t.append("input").style("margin-right","10px").attr("type","text").style("width","350px").style("height","40px").style("display","inline-block").attr("id","intro_players_input").attr("class","nes-input").attr("placeholder","How many players?"),t.append("input").attr("type","text").style("width","350px").style("height","40px").style("display","inline-block").attr("id","intro_ai_input").attr("class","nes-input").attr("placeholder","How many AIs?"),t.append("button").style("margin-top","10px").attr("class","nes-btn").style("height","40px").style("display","inline-block").attr("type","button").attr("name","action").on("click",(function(){const t=Ba("intro_players_input"),e=Ba("intro_ai_input");var n,r;null!==t&&null!==e&&(t+e>6?Ct("#intro_span").text("Number of players + AIs needs to be <= 6!").style("color","darkred"):(n=t,r=e,Ra(void 0,void 0,void 0,(function*(){Ct("#landing_page").style("display","none");const t=yield new Ia(n,r),e=yield new Da(t);yield new Na(n+r,t,e)}))))})).text("Play"),t.append("div").style("margin-top","10px").append("span").attr("id","intro_span")}()},5:function(t,e,n){(function(t,r){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",l="[object Array]",c="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",_="[object Map]",v="[object Number]",g="[object Object]",y="[object RegExp]",m="[object Set]",w="[object String]",b="[object Symbol]",x="[object WeakMap]",A="[object ArrayBuffer]",C="[object DataView]",P="[object Float32Array]",S="[object Float64Array]",M="[object Int8Array]",T="[object Int16Array]",k="[object Int32Array]",L="[object Uint8Array]",I="[object Uint16Array]",j="[object Uint32Array]",D=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R=/&(?:amp|lt|gt|quot|#39);/g,B=/[&<>"']/g,E=RegExp(R.source),O=RegExp(B.source),H=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,V=RegExp(q.source),G=/^\s+|\s+$/g,Z=/^\s+/,X=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",_t="["+pt+"]",vt="["+ft+"]",gt="\\d+",yt="[\\u2700-\\u27bf]",mt="[a-z\\xdf-\\xf6\\xf8-\\xff]",wt="[^\\ud800-\\udfff"+pt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",bt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",At="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",St="(?:"+mt+"|"+wt+")",Mt="(?:"+Pt+"|"+wt+")",Tt="(?:"+vt+"|"+bt+")"+"?",kt="[\\ufe0e\\ufe0f]?"+Tt+("(?:\\u200d(?:"+[xt,At,Ct].join("|")+")[\\ufe0e\\ufe0f]?"+Tt+")*"),Lt="(?:"+[yt,At,Ct].join("|")+")"+kt,It="(?:"+[xt+vt+"?",vt,At,Ct,dt].join("|")+")",jt=RegExp("['’]","g"),Dt=RegExp(vt,"g"),Ut=RegExp(bt+"(?="+bt+")|"+It+kt,"g"),Nt=RegExp([Pt+"?"+mt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[_t,Pt,"$"].join("|")+")",Mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[_t,Pt+St,"$"].join("|")+")",Pt+"?"+St+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Lt].join("|"),"g"),Rt=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),Bt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Et=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ot=-1,Ht={};Ht[P]=Ht[S]=Ht[M]=Ht[T]=Ht[k]=Ht[L]=Ht["[object Uint8ClampedArray]"]=Ht[I]=Ht[j]=!0,Ht[s]=Ht[l]=Ht[A]=Ht[c]=Ht[C]=Ht[h]=Ht[f]=Ht[p]=Ht[_]=Ht[v]=Ht[g]=Ht[y]=Ht[m]=Ht[w]=Ht[x]=!1;var Ft={};Ft[s]=Ft[l]=Ft[A]=Ft[C]=Ft[c]=Ft[h]=Ft[P]=Ft[S]=Ft[M]=Ft[T]=Ft[k]=Ft[_]=Ft[v]=Ft[g]=Ft[y]=Ft[m]=Ft[w]=Ft[b]=Ft[L]=Ft["[object Uint8ClampedArray]"]=Ft[I]=Ft[j]=!0,Ft[f]=Ft[p]=Ft[x]=!1;var $t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=parseFloat,Wt=parseInt,Yt="object"==typeof t&&t&&t.Object===Object&&t,qt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Yt||qt||Function("return this")(),Gt=e&&!e.nodeType&&e,Zt=Gt&&"object"==typeof r&&r&&!r.nodeType&&r,Xt=Zt&&Zt.exports===Gt,Jt=Xt&&Yt.process,Qt=function(){try{var t=Zt&&Zt.require&&Zt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),Kt=Qt&&Qt.isArrayBuffer,te=Qt&&Qt.isDate,ee=Qt&&Qt.isMap,ne=Qt&&Qt.isRegExp,re=Qt&&Qt.isSet,ie=Qt&&Qt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function he(t,e){return!!(null==t?0:t.length)&&be(t,e,0)>-1}function fe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function _e(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ve(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ge(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ye=Pe("length");function me(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function we(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function be(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):we(t,Ae,n)}function xe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ae(t){return t!=t}function Ce(t,e){var n=null==t?0:t.length;return n?Te(t,e)/n:NaN}function Pe(t){return function(e){return null==e?void 0:e[t]}}function Se(t){return function(e){return null==t?void 0:t[e]}}function Me(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Te(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function ke(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Le(t){return function(e){return t(e)}}function Ie(t,e){return pe(e,(function(e){return t[e]}))}function je(t,e){return t.has(e)}function De(t,e){for(var n=-1,r=t.length;++n<r&&be(e,t[n],0)>-1;);return n}function Ue(t,e){for(var n=t.length;n--&&be(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Re=Se({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Be=Se({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ee(t){return"\\"+$t[t]}function Oe(t){return Rt.test(t)}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Fe(t,e){return function(n){return t(e(n))}}function $e(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,o[i++]=n)}return o}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function We(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ye(t){return Oe(t)?function(t){var e=Ut.lastIndex=0;for(;Ut.test(t);)++e;return e}(t):ye(t)}function qe(t){return Oe(t)?function(t){return t.match(Ut)||[]}(t):function(t){return t.split("")}(t)}var Ve=Se({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ge=function t(e){var n,r=(e=null==e?Vt:Ge.defaults(Vt.Object(),e,Ge.pick(Vt,Et))).Array,i=e.Date,ft=e.Error,pt=e.Function,dt=e.Math,_t=e.Object,vt=e.RegExp,gt=e.String,yt=e.TypeError,mt=r.prototype,wt=pt.prototype,bt=_t.prototype,xt=e["__core-js_shared__"],At=wt.toString,Ct=bt.hasOwnProperty,Pt=0,St=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Mt=bt.toString,Tt=At.call(_t),kt=Vt._,Lt=vt("^"+At.call(Ct).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=Xt?e.Buffer:void 0,Ut=e.Symbol,Rt=e.Uint8Array,$t=It?It.allocUnsafe:void 0,Yt=Fe(_t.getPrototypeOf,_t),qt=_t.create,Gt=bt.propertyIsEnumerable,Zt=mt.splice,Jt=Ut?Ut.isConcatSpreadable:void 0,Qt=Ut?Ut.iterator:void 0,ye=Ut?Ut.toStringTag:void 0,Se=function(){try{var t=Ki(_t,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ze=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,Xe=i&&i.now!==Vt.Date.now&&i.now,Je=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Qe=dt.ceil,Ke=dt.floor,tn=_t.getOwnPropertySymbols,en=It?It.isBuffer:void 0,nn=e.isFinite,rn=mt.join,on=Fe(_t.keys,_t),an=dt.max,un=dt.min,sn=i.now,ln=e.parseInt,cn=dt.random,hn=mt.reverse,fn=Ki(e,"DataView"),pn=Ki(e,"Map"),dn=Ki(e,"Promise"),_n=Ki(e,"Set"),vn=Ki(e,"WeakMap"),gn=Ki(_t,"create"),yn=vn&&new vn,mn={},wn=Mo(fn),bn=Mo(pn),xn=Mo(dn),An=Mo(_n),Cn=Mo(vn),Pn=Ut?Ut.prototype:void 0,Sn=Pn?Pn.valueOf:void 0,Mn=Pn?Pn.toString:void 0;function Tn(t){if(Wa(t)&&!Da(t)&&!(t instanceof jn)){if(t instanceof In)return t;if(Ct.call(t,"__wrapped__"))return To(t)}return new In(t)}var kn=function(){function t(){}return function(e){if(!za(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Ln(){}function In(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function jn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Nn;++e<n;)this.add(t[e])}function Bn(t){var e=this.__data__=new Un(t);this.size=e.size}function En(t,e){var n=Da(t),r=!n&&ja(t),i=!n&&!r&&Ba(t),o=!n&&!r&&!i&&Qa(t),a=n||r||i||o,u=a?ke(t.length,gt):[],s=u.length;for(var l in t)!e&&!Ct.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,s))||u.push(l);return u}function On(t){var e=t.length;return e?t[Rr(0,e-1)]:void 0}function Hn(t,e){return Co(gi(t),Zn(e,0,t.length))}function Fn(t){return Co(gi(t))}function $n(t,e,n){(void 0!==n&&!ka(t[e],n)||void 0===n&&!(e in t))&&Vn(t,e,n)}function zn(t,e,n){var r=t[e];Ct.call(t,e)&&ka(r,n)&&(void 0!==n||e in t)||Vn(t,e,n)}function Wn(t,e){for(var n=t.length;n--;)if(ka(t[n][0],e))return n;return-1}function Yn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function qn(t,e){return t&&yi(e,wu(e),t)}function Vn(t,e,n){"__proto__"==e&&Se?Se(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Gn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:_u(t,e[n]);return o}function Zn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Xn(t,e,n,r,i,o){var a,u=1&e,l=2&e,f=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!za(t))return t;var x=Da(t);if(x){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Ct.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return gi(t,a)}else{var D=no(t),U=D==p||D==d;if(Ba(t))return hi(t,u);if(D==g||D==s||U&&!i){if(a=l||U?{}:io(t),!u)return l?function(t,e){return yi(t,eo(t),e)}(t,function(t,e){return t&&yi(e,bu(e),t)}(a,t)):function(t,e){return yi(t,to(t),e)}(t,qn(a,t))}else{if(!Ft[D])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case A:return fi(t);case c:case h:return new r(+t);case C:return function(t,e){var n=e?fi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case S:case M:case T:case k:case L:case"[object Uint8ClampedArray]":case I:case j:return pi(t,n);case _:return new r;case v:case w:return new r(t);case y:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return new r;case b:return i=t,Sn?_t(Sn.call(i)):{}}var i}(t,D,u)}}o||(o=new Bn);var N=o.get(t);if(N)return N;o.set(t,a),Za(t)?t.forEach((function(r){a.add(Xn(r,e,n,r,t,o))})):Ya(t)&&t.forEach((function(r,i){a.set(i,Xn(r,e,n,i,t,o))}));var R=x?void 0:(f?l?qi:Yi:l?bu:wu)(t);return ue(R||t,(function(r,i){R&&(r=t[i=r]),zn(a,i,Xn(r,e,n,i,t,o))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=_t(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new yt(o);return wo((function(){t.apply(void 0,n)}),e)}function Kn(t,e,n,r){var i=-1,o=he,a=!0,u=t.length,s=[],l=e.length;if(!u)return s;n&&(e=pe(e,Le(n))),r?(o=fe,a=!1):e.length>=200&&(o=je,a=!1,e=new Rn(e));t:for(;++i<u;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;s.push(c)}else o(e,h,r)||s.push(c)}return s}Tn.templateSettings={escape:H,evaluate:F,interpolate:$,variable:"",imports:{_:Tn}},Tn.prototype=Ln.prototype,Tn.prototype.constructor=Tn,In.prototype=kn(Ln.prototype),In.prototype.constructor=In,jn.prototype=kn(Ln.prototype),jn.prototype.constructor=jn,Dn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Dn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Dn.prototype.get=function(t){var e=this.__data__;if(gn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ct.call(e,t)?e[t]:void 0},Dn.prototype.has=function(t){var e=this.__data__;return gn?void 0!==e[t]:Ct.call(e,t)},Dn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gn&&void 0===e?"__lodash_hash_undefined__":e,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(t){var e=this.__data__,n=Wn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},Un.prototype.get=function(t){var e=this.__data__,n=Wn(e,t);return n<0?void 0:e[n][1]},Un.prototype.has=function(t){return Wn(this.__data__,t)>-1},Un.prototype.set=function(t,e){var n=this.__data__,r=Wn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(pn||Un),string:new Dn}},Nn.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},Nn.prototype.get=function(t){return Ji(this,t).get(t)},Nn.prototype.has=function(t){return Ji(this,t).has(t)},Nn.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Rn.prototype.add=Rn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rn.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.clear=function(){this.__data__=new Un,this.size=0},Bn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Bn.prototype.get=function(t){return this.__data__.get(t)},Bn.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Un){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(t,e),this.size=n.size,this};var tr=bi(sr),er=bi(lr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Ja(a):n(a,u)))var u=a,s=o}return s}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?or(u,e-1,n,r,i):de(i,u):r||(i[i.length]=u)}return i}var ar=xi(),ur=xi(!0);function sr(t,e){return t&&ar(t,e,wu)}function lr(t,e){return t&&ur(t,e,wu)}function cr(t,e){return ce(e,(function(e){return Ha(t[e])}))}function hr(t,e){for(var n=0,r=(e=ui(e,t)).length;null!=t&&n<r;)t=t[So(e[n++])];return n&&n==r?t:void 0}function fr(t,e,n){var r=e(t);return Da(t)?r:de(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ye&&ye in _t(t)?function(t){var e=Ct.call(t,ye),n=t[ye];try{t[ye]=void 0;var r=!0}catch(t){}var i=Mt.call(t);r&&(e?t[ye]=n:delete t[ye]);return i}(t):function(t){return Mt.call(t)}(t)}function dr(t,e){return t>e}function _r(t,e){return null!=t&&Ct.call(t,e)}function vr(t,e){return null!=t&&e in _t(t)}function gr(t,e,n){for(var i=n?fe:he,o=t[0].length,a=t.length,u=a,s=r(a),l=1/0,c=[];u--;){var h=t[u];u&&e&&(h=pe(h,Le(e))),l=un(h.length,l),s[u]=!n&&(e||o>=120&&h.length>=120)?new Rn(u&&h):void 0}h=t[0];var f=-1,p=s[0];t:for(;++f<o&&c.length<l;){var d=h[f],_=e?e(d):d;if(d=n||0!==d?d:0,!(p?je(p,_):i(c,_,n))){for(u=a;--u;){var v=s[u];if(!(v?je(v,_):i(t[u],_,n)))continue t}p&&p.push(_),c.push(d)}}return c}function yr(t,e,n){var r=null==(t=vo(t,e=ui(e,t)))?t:t[So(Oo(e))];return null==r?void 0:oe(r,t,n)}function mr(t){return Wa(t)&&pr(t)==s}function wr(t,e,n,r,i){return t===e||(null==t||null==e||!Wa(t)&&!Wa(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Da(t),u=Da(e),p=a?l:no(t),d=u?l:no(e),x=(p=p==s?g:p)==g,P=(d=d==s?g:d)==g,S=p==d;if(S&&Ba(t)){if(!Ba(e))return!1;a=!0,x=!1}if(S&&!x)return o||(o=new Bn),a||Qa(t)?zi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!o(new Rt(t),new Rt(e)));case c:case h:case v:return ka(+t,+e);case f:return t.name==e.name&&t.message==e.message;case y:case w:return t==e+"";case _:var u=He;case m:var s=1&r;if(u||(u=ze),t.size!=e.size&&!s)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var p=zi(u(t),u(e),r,i,o,a);return a.delete(t),p;case b:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var M=x&&Ct.call(t,"__wrapped__"),T=P&&Ct.call(e,"__wrapped__");if(M||T){var k=M?t.value():t,L=T?e.value():e;return o||(o=new Bn),i(k,L,n,r,o)}}if(!S)return!1;return o||(o=new Bn),function(t,e,n,r,i,o){var a=1&n,u=Yi(t),s=u.length,l=Yi(e).length;if(s!=l&&!a)return!1;var c=s;for(;c--;){var h=u[c];if(!(a?h in e:Ct.call(e,h)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);var d=a;for(;++c<s;){h=u[c];var _=t[h],v=e[h];if(r)var g=a?r(v,_,h,e,t,o):r(_,v,h,t,e,o);if(!(void 0===g?_===v||i(_,v,n,r,o):g)){p=!1;break}d||(d="constructor"==h)}if(p&&!d){var y=t.constructor,m=e.constructor;y==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,wr,i))}function br(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=_t(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],l=t[s],c=u[1];if(a&&u[2]){if(void 0===l&&!(s in t))return!1}else{var h=new Bn;if(r)var f=r(l,c,s,t,e,h);if(!(void 0===f?wr(c,l,3,r,h):f))return!1}}return!0}function xr(t){return!(!za(t)||(e=t,St&&St in e))&&(Ha(t)?Lt:at).test(Mo(t));var e}function Ar(t){return"function"==typeof t?t:null==t?qu:"object"==typeof t?Da(t)?kr(t[0],t[1]):Tr(t):es(t)}function Cr(t){if(!ho(t))return on(t);var e=[];for(var n in _t(t))Ct.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pr(t){if(!za(t))return function(t){var e=[];if(null!=t)for(var n in _t(t))e.push(n);return e}(t);var e=ho(t),n=[];for(var r in t)("constructor"!=r||!e&&Ct.call(t,r))&&n.push(r);return n}function Sr(t,e){return t<e}function Mr(t,e){var n=-1,i=Na(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Tr(t){var e=Qi(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||br(n,t,e)}}function kr(t,e){return so(t)&&fo(e)?po(So(t),e):function(n){var r=_u(n,t);return void 0===r&&r===e?vu(n,t):wr(e,r,3)}}function Lr(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Bn),za(o))!function(t,e,n,r,i,o,a){var u=yo(t,n),s=yo(e,n),l=a.get(s);if(l)return void $n(t,n,l);var c=o?o(u,s,n+"",t,e,a):void 0,h=void 0===c;if(h){var f=Da(s),p=!f&&Ba(s),d=!f&&!p&&Qa(s);c=s,f||p||d?Da(u)?c=u:Ra(u)?c=gi(u):p?(h=!1,c=hi(s,!0)):d?(h=!1,c=pi(s,!0)):c=[]:Va(s)||ja(s)?(c=u,ja(u)?c=au(u):za(u)&&!Ha(u)||(c=io(s))):h=!1}h&&(a.set(s,c),i(c,s,r,o,a),a.delete(s));$n(t,n,c)}(t,e,a,n,Lr,r,i);else{var u=r?r(yo(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),$n(t,a,u)}}),bu)}function Ir(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function jr(t,e,n){var r=-1;return e=pe(e.length?e:[qu],Le(Xi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Mr(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var s=di(i[r],o[r]);if(s){if(r>=u)return s;var l=n[r];return s*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Dr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=hr(t,a);n(u,a)&&Fr(o,ui(a,t),u)}return o}function Ur(t,e,n,r){var i=r?xe:be,o=-1,a=e.length,u=t;for(t===e&&(e=gi(e)),n&&(u=pe(t,Le(n)));++o<a;)for(var s=0,l=e[o],c=n?n(l):l;(s=i(u,c,s,r))>-1;)u!==t&&Zt.call(u,s,1),Zt.call(t,s,1);return t}function Nr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?Zt.call(t,i,1):Kr(t,i)}}return t}function Rr(t,e){return t+Ke(cn()*(e-t+1))}function Br(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ke(e/2))&&(t+=t)}while(e);return n}function Er(t,e){return bo(_o(t,e,qu),t+"")}function Or(t){return On(ku(t))}function Hr(t,e){var n=ku(t);return Co(n,Zn(e,0,n.length))}function Fr(t,e,n,r){if(!za(t))return t;for(var i=-1,o=(e=ui(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=So(e[i]),l=n;if(i!=a){var c=u[s];void 0===(l=r?r(c,s,u):void 0)&&(l=za(c)?c:ao(e[i+1])?[]:{})}zn(u,s,l),u=u[s]}return t}var $r=yn?function(t,e){return yn.set(t,e),t}:qu,zr=Se?function(t,e){return Se(t,"toString",{configurable:!0,enumerable:!1,value:zu(e),writable:!0})}:qu;function Wr(t){return Co(ku(t))}function Yr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function qr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Vr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Gr(t,e,qu,n)}function Gr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,u=null===e,s=Ja(e),l=void 0===e;i<o;){var c=Ke((i+o)/2),h=n(t[c]),f=void 0!==h,p=null===h,d=h==h,_=Ja(h);if(a)var v=r||d;else v=l?d&&(r||f):u?d&&f&&(r||!p):s?d&&f&&!p&&(r||!_):!p&&!_&&(r?h<=e:h<e);v?i=c+1:o=c}return un(o,4294967294)}function Zr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!ka(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Xr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Da(t))return pe(t,Jr)+"";if(Ja(t))return Mn?Mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=he,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=fe;else if(o>=200){var l=e?null:Bi(t);if(l)return ze(l);a=!1,i=je,s=new Rn}else s=e?[]:u;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var f=s.length;f--;)if(s[f]===h)continue t;e&&s.push(h),u.push(c)}else i(s,h,n)||(s!==u&&s.push(h),u.push(c))}return u}function Kr(t,e){return null==(t=vo(t,e=ui(e,t)))||delete t[So(Oo(e))]}function ti(t,e,n,r){return Fr(t,e,n(hr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Yr(t,r?0:o,r?o+1:i):Yr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof jn&&(n=n.value()),_e(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],s=-1;++s<i;)s!=o&&(a[o]=Kn(a[o]||u,t[s],e,n));return Qr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function oi(t){return Ra(t)?t:[]}function ai(t){return"function"==typeof t?t:qu}function ui(t,e){return Da(t)?t:so(t,e)?[t]:Po(uu(t))}var si=Er;function li(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Yr(t,e,n)}var ci=Ze||function(t){return Vt.clearTimeout(t)};function hi(t,e){if(e)return t.slice();var n=t.length,r=$t?$t(n):new t.constructor(n);return t.copy(r),r}function fi(t){var e=new t.constructor(t.byteLength);return new Rt(e).set(new Rt(t)),e}function pi(t,e){var n=e?fi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,u=null===e,s=e==e,l=Ja(e);if(!u&&!l&&!o&&t>e||o&&a&&s&&!u&&!l||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function _i(t,e,n,i){for(var o=-1,a=t.length,u=n.length,s=-1,l=e.length,c=an(a-u,0),h=r(l+c),f=!i;++s<l;)h[s]=e[s];for(;++o<u;)(f||o<a)&&(h[n[o]]=t[o]);for(;c--;)h[s++]=t[o++];return h}function vi(t,e,n,i){for(var o=-1,a=t.length,u=-1,s=n.length,l=-1,c=e.length,h=an(a-s,0),f=r(h+c),p=!i;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++u<s;)(p||o<a)&&(f[d+n[u]]=t[o++]);return f}function gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function yi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):void 0;void 0===s&&(s=t[u]),i?Vn(n,u,s):zn(n,u,s)}return n}function mi(t,e){return function(n,r){var i=Da(n)?ae:Yn,o=e?e():{};return i(n,t,Xi(r,2),o)}}function wi(t){return Er((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=_t(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function bi(t,e){return function(n,r){if(null==n)return n;if(!Na(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=_t(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function xi(t){return function(e,n,r){for(var i=-1,o=_t(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function Ai(t){return function(e){var n=Oe(e=uu(e))?qe(e):void 0,r=n?n[0]:e.charAt(0),i=n?li(n,1).join(""):e.slice(1);return r[t]()+i}}function Ci(t){return function(e){return _e(Hu(ju(e).replace(jt,"")),t,"")}}function Pi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=kn(t.prototype),r=t.apply(n,e);return za(r)?r:n}}function Si(t){return function(e,n,r){var i=_t(e);if(!Na(e)){var o=Xi(n,3);e=wu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Mi(t){return Wi((function(e){var n=e.length,r=n,i=In.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new yt(o);if(i&&!u&&"wrapper"==Gi(a))var u=new In([],!0)}for(r=u?r:n;++r<n;){var s=Gi(a=e[r]),l="wrapper"==s?Vi(a):void 0;u=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[Gi(l[0])].apply(u,l[3]):1==a.length&&lo(a)?u[s]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Da(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ti(t,e,n,i,o,a,u,s,l,c){var h=128&e,f=1&e,p=2&e,d=24&e,_=512&e,v=p?void 0:Pi(t);return function g(){for(var y=arguments.length,m=r(y),w=y;w--;)m[w]=arguments[w];if(d)var b=Zi(g),x=Ne(m,b);if(i&&(m=_i(m,i,o,d)),a&&(m=vi(m,a,u,d)),y-=x,d&&y<c){var A=$e(m,b);return Ni(t,e,Ti,g.placeholder,n,m,A,s,l,c-y)}var C=f?n:this,P=p?C[t]:t;return y=m.length,s?m=go(m,s):_&&y>1&&m.reverse(),h&&l<y&&(m.length=l),this&&this!==Vt&&this instanceof g&&(P=v||Pi(P)),P.apply(C,m)}}function ki(t,e){return function(n,r){return function(t,e,n,r){return sr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Li(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Xr(n),r=Xr(r)),i=t(n,r)}return i}}function Ii(t){return Wi((function(e){return e=pe(e,Le(Xi())),Er((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function ji(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Br(e,t):e;var r=Br(e,Qe(t/Ye(e)));return Oe(e)?li(qe(r),0,t).join(""):r.slice(0,t)}function Di(t){return function(e,n,i){return i&&"number"!=typeof i&&uo(e,n,i)&&(n=i=void 0),e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n,i){for(var o=-1,a=an(Qe((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,i=void 0===i?e<n?1:-1:nu(i),t)}}function Ui(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ou(e),n=ou(n)),t(e,n)}}function Ni(t,e,n,r,i,o,a,u,s,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var h=[t,e,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,u,s,l],f=n.apply(void 0,h);return lo(t)&&mo(f,h),f.placeholder=r,xo(f,t,e)}function Ri(t){var e=dt[t];return function(t,n){if(t=ou(t),(n=null==n?0:un(ru(n),292))&&nn(t)){var r=(uu(t)+"e").split("e");return+((r=(uu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Bi=_n&&1/ze(new _n([,-0]))[1]==1/0?function(t){return new _n(t)}:Ju;function Ei(t){return function(e){var n=no(e);return n==_?He(e):n==m?We(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Oi(t,e,n,i,u,s,l,c){var h=2&e;if(!h&&"function"!=typeof t)throw new yt(o);var f=i?i.length:0;if(f||(e&=-97,i=u=void 0),l=void 0===l?l:an(ru(l),0),c=void 0===c?c:ru(c),f-=u?u.length:0,64&e){var p=i,d=u;i=u=void 0}var _=h?void 0:Vi(t),v=[t,e,n,i,u,p,d,s,l,c];if(_&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!u)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var l=t[3];t[3]=l?_i(l,s,e[4]):s,t[4]=l?$e(t[3],a):e[4]}(s=e[5])&&(l=t[5],t[5]=l?vi(l,s,e[6]):s,t[6]=l?$e(t[5],a):e[6]);(s=e[7])&&(t[7]=s);128&r&&(t[8]=null==t[8]?e[8]:un(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(v,_),t=v[0],e=v[1],n=v[2],i=v[3],u=v[4],!(c=v[9]=void 0===v[9]?h?0:t.length:an(v[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,n){var i=Pi(t);return function o(){for(var a=arguments.length,u=r(a),s=a,l=Zi(o);s--;)u[s]=arguments[s];var c=a<3&&u[0]!==l&&u[a-1]!==l?[]:$e(u,l);if((a-=c.length)<n)return Ni(t,e,Ti,o.placeholder,void 0,u,c,void 0,void 0,n-a);var h=this&&this!==Vt&&this instanceof o?i:t;return oe(h,this,u)}}(t,e,c):32!=e&&33!=e||u.length?Ti.apply(void 0,v):function(t,e,n,i){var o=1&e,a=Pi(t);return function e(){for(var u=-1,s=arguments.length,l=-1,c=i.length,h=r(c+s),f=this&&this!==Vt&&this instanceof e?a:t;++l<c;)h[l]=i[l];for(;s--;)h[l++]=arguments[++u];return oe(f,o?n:this,h)}}(t,e,n,i);else var g=function(t,e,n){var r=1&e,i=Pi(t);return function e(){var o=this&&this!==Vt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return xo((_?$r:mo)(g,v),t,e)}function Hi(t,e,n,r){return void 0===t||ka(t,bt[n])&&!Ct.call(r,n)?e:t}function Fi(t,e,n,r,i,o){return za(t)&&za(e)&&(o.set(e,t),Lr(t,e,void 0,Fi,o),o.delete(e)),t}function $i(t){return Va(t)?void 0:t}function zi(t,e,n,r,i,o){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=2&n?new Rn:void 0;for(o.set(t,e),o.set(e,t);++c<u;){var p=t[c],d=e[c];if(r)var _=a?r(d,p,c,e,t,o):r(p,d,c,t,e,o);if(void 0!==_){if(_)continue;h=!1;break}if(f){if(!ge(e,(function(t,e){if(!je(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){h=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Wi(t){return bo(_o(t,void 0,Uo),t+"")}function Yi(t){return fr(t,wu,to)}function qi(t){return fr(t,bu,eo)}var Vi=yn?function(t){return yn.get(t)}:Ju;function Gi(t){for(var e=t.name+"",n=mn[e],r=Ct.call(mn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Zi(t){return(Ct.call(Tn,"placeholder")?Tn:t).placeholder}function Xi(){var t=Tn.iteratee||Vu;return t=t===Vu?Ar:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=wu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fo(i)]}return e}function Ki(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=_t(t),ce(tn(t),(function(e){return Gt.call(t,e)})))}:is,eo=tn?function(t){for(var e=[];t;)de(e,to(t)),t=Yt(t);return e}:is,no=pr;function ro(t,e,n){for(var r=-1,i=(e=ui(e,t)).length,o=!1;++r<i;){var a=So(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&$a(i)&&ao(a,i)&&(Da(t)||ja(t))}function io(t){return"function"!=typeof t.constructor||ho(t)?{}:kn(Yt(t))}function oo(t){return Da(t)||ja(t)||!!(Jt&&t&&t[Jt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function uo(t,e,n){if(!za(n))return!1;var r=typeof e;return!!("number"==r?Na(n)&&ao(e,n.length):"string"==r&&e in n)&&ka(n[e],t)}function so(t,e){if(Da(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(W.test(t)||!z.test(t)||null!=e&&t in _t(e))}function lo(t){var e=Gi(t),n=Tn[e];if("function"!=typeof n||!(e in jn.prototype))return!1;if(t===n)return!0;var r=Vi(n);return!!r&&t===r[0]}(fn&&no(new fn(new ArrayBuffer(1)))!=C||pn&&no(new pn)!=_||dn&&"[object Promise]"!=no(dn.resolve())||_n&&no(new _n)!=m||vn&&no(new vn)!=x)&&(no=function(t){var e=pr(t),n=e==g?t.constructor:void 0,r=n?Mo(n):"";if(r)switch(r){case wn:return C;case bn:return _;case xn:return"[object Promise]";case An:return m;case Cn:return x}return e});var co=xt?Ha:os;function ho(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function fo(t){return t==t&&!za(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in _t(n)))}}function _o(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var s=r(e+1);++o<e;)s[o]=i[o];return s[e]=n(u),oe(t,this,s)}}function vo(t,e){return e.length<2?t:hr(t,Yr(e,0,-1))}function go(t,e){for(var n=t.length,r=un(e.length,n),i=gi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function yo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var mo=Ao($r),wo=Je||function(t,e){return Vt.setTimeout(t,e)},bo=Ao(zr);function xo(t,e,n){var r=e+"";return bo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!he(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split(K):[]}(r),n)))}function Ao(t){var e=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Co(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Rr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Po=function(t){var e=Aa(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Y,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function So(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Mo(t){if(null!=t){try{return At.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function To(t){if(t instanceof jn)return t.clone();var e=new In(t.__wrapped__,t.__chain__);return e.__actions__=gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ko=Er((function(t,e){return Ra(t)?Kn(t,or(e,1,Ra,!0)):[]})),Lo=Er((function(t,e){var n=Oo(e);return Ra(n)&&(n=void 0),Ra(t)?Kn(t,or(e,1,Ra,!0),Xi(n,2)):[]})),Io=Er((function(t,e){var n=Oo(e);return Ra(n)&&(n=void 0),Ra(t)?Kn(t,or(e,1,Ra,!0),void 0,n):[]}));function jo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),we(t,Xi(e,3),i)}function Do(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ru(n),i=n<0?an(r+i,0):un(i,r-1)),we(t,Xi(e,3),i,!0)}function Uo(t){return(null==t?0:t.length)?or(t,1):[]}function No(t){return t&&t.length?t[0]:void 0}var Ro=Er((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?gr(e):[]})),Bo=Er((function(t){var e=Oo(t),n=pe(t,oi);return e===Oo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?gr(n,Xi(e,2)):[]})),Eo=Er((function(t){var e=Oo(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?gr(n,void 0,e):[]}));function Oo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ho=Er(Fo);function Fo(t,e){return t&&t.length&&e&&e.length?Ur(t,e):t}var $o=Wi((function(t,e){var n=null==t?0:t.length,r=Gn(t,e);return Nr(t,pe(e,(function(t){return ao(t,n)?+t:t})).sort(di)),r}));function zo(t){return null==t?t:hn.call(t)}var Wo=Er((function(t){return Qr(or(t,1,Ra,!0))})),Yo=Er((function(t){var e=Oo(t);return Ra(e)&&(e=void 0),Qr(or(t,1,Ra,!0),Xi(e,2))})),qo=Er((function(t){var e=Oo(t);return e="function"==typeof e?e:void 0,Qr(or(t,1,Ra,!0),void 0,e)}));function Vo(t){if(!t||!t.length)return[];var e=0;return t=ce(t,(function(t){if(Ra(t))return e=an(t.length,e),!0})),ke(e,(function(e){return pe(t,Pe(e))}))}function Go(t,e){if(!t||!t.length)return[];var n=Vo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var Zo=Er((function(t,e){return Ra(t)?Kn(t,e):[]})),Xo=Er((function(t){return ri(ce(t,Ra))})),Jo=Er((function(t){var e=Oo(t);return Ra(e)&&(e=void 0),ri(ce(t,Ra),Xi(e,2))})),Qo=Er((function(t){var e=Oo(t);return e="function"==typeof e?e:void 0,ri(ce(t,Ra),void 0,e)})),Ko=Er(Vo);var ta=Er((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Go(t,n)}));function ea(t){var e=Tn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Wi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Gn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof jn&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new In(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=mi((function(t,e,n){Ct.call(t,n)?++t[n]:Vn(t,n,1)}));var oa=Si(jo),aa=Si(Do);function ua(t,e){return(Da(t)?ue:tr)(t,Xi(e,3))}function sa(t,e){return(Da(t)?se:er)(t,Xi(e,3))}var la=mi((function(t,e,n){Ct.call(t,n)?t[n].push(e):Vn(t,n,[e])}));var ca=Er((function(t,e,n){var i=-1,o="function"==typeof e,a=Na(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):yr(t,e,n)})),a})),ha=mi((function(t,e,n){Vn(t,n,e)}));function fa(t,e){return(Da(t)?pe:Mr)(t,Xi(e,3))}var pa=mi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var da=Er((function(t,e){if(null==t)return[];var n=e.length;return n>1&&uo(t,e[0],e[1])?e=[]:n>2&&uo(e[0],e[1],e[2])&&(e=[e[0]]),jr(t,or(e,1),[])})),_a=Xe||function(){return Vt.Date.now()};function va(t,e,n){return e=n?void 0:e,Oi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ga(t,e){var n;if("function"!=typeof e)throw new yt(o);return t=ru(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ya=Er((function(t,e,n){var r=1;if(n.length){var i=$e(n,Zi(ya));r|=32}return Oi(t,r,e,n,i)})),ma=Er((function(t,e,n){var r=3;if(n.length){var i=$e(n,Zi(ma));r|=32}return Oi(e,r,t,n,i)}));function wa(t,e,n){var r,i,a,u,s,l,c=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new yt(o);function d(e){var n=r,o=i;return r=i=void 0,c=e,u=t.apply(o,n)}function _(t){return c=t,s=wo(g,e),h?d(t):u}function v(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-c>=a}function g(){var t=_a();if(v(t))return y(t);s=wo(g,function(t){var n=e-(t-l);return f?un(n,a-(t-c)):n}(t))}function y(t){return s=void 0,p&&r?d(t):(r=i=void 0,u)}function m(){var t=_a(),n=v(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return _(l);if(f)return ci(s),s=wo(g,e),d(l)}return void 0===s&&(s=wo(g,e)),u}return e=ou(e)||0,za(n)&&(h=!!n.leading,a=(f="maxWait"in n)?an(ou(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),m.cancel=function(){void 0!==s&&ci(s),c=0,r=l=i=s=void 0},m.flush=function(){return void 0===s?u:y(_a())},m}var ba=Er((function(t,e){return Qn(t,1,e)})),xa=Er((function(t,e,n){return Qn(t,ou(e)||0,n)}));function Aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Aa.Cache||Nn),n}function Ca(t){if("function"!=typeof t)throw new yt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Aa.Cache=Nn;var Pa=si((function(t,e){var n=(e=1==e.length&&Da(e[0])?pe(e[0],Le(Xi())):pe(or(e,1),Le(Xi()))).length;return Er((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Sa=Er((function(t,e){return Oi(t,32,void 0,e,$e(e,Zi(Sa)))})),Ma=Er((function(t,e){return Oi(t,64,void 0,e,$e(e,Zi(Ma)))})),Ta=Wi((function(t,e){return Oi(t,256,void 0,void 0,void 0,e)}));function ka(t,e){return t===e||t!=t&&e!=e}var La=Ui(dr),Ia=Ui((function(t,e){return t>=e})),ja=mr(function(){return arguments}())?mr:function(t){return Wa(t)&&Ct.call(t,"callee")&&!Gt.call(t,"callee")},Da=r.isArray,Ua=Kt?Le(Kt):function(t){return Wa(t)&&pr(t)==A};function Na(t){return null!=t&&$a(t.length)&&!Ha(t)}function Ra(t){return Wa(t)&&Na(t)}var Ba=en||os,Ea=te?Le(te):function(t){return Wa(t)&&pr(t)==h};function Oa(t){if(!Wa(t))return!1;var e=pr(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Va(t)}function Ha(t){if(!za(t))return!1;var e=pr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Fa(t){return"number"==typeof t&&t==ru(t)}function $a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function za(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wa(t){return null!=t&&"object"==typeof t}var Ya=ee?Le(ee):function(t){return Wa(t)&&no(t)==_};function qa(t){return"number"==typeof t||Wa(t)&&pr(t)==v}function Va(t){if(!Wa(t)||pr(t)!=g)return!1;var e=Yt(t);if(null===e)return!0;var n=Ct.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==Tt}var Ga=ne?Le(ne):function(t){return Wa(t)&&pr(t)==y};var Za=re?Le(re):function(t){return Wa(t)&&no(t)==m};function Xa(t){return"string"==typeof t||!Da(t)&&Wa(t)&&pr(t)==w}function Ja(t){return"symbol"==typeof t||Wa(t)&&pr(t)==b}var Qa=ie?Le(ie):function(t){return Wa(t)&&$a(t.length)&&!!Ht[pr(t)]};var Ka=Ui(Sr),tu=Ui((function(t,e){return t<=e}));function eu(t){if(!t)return[];if(Na(t))return Xa(t)?qe(t):gi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=no(t);return(e==_?He:e==m?ze:ku)(t)}function nu(t){return t?(t=ou(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ru(t){var e=nu(t),n=e%1;return e==e?n?e-n:e:0}function iu(t){return t?Zn(ru(t),0,4294967295):0}function ou(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(za(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=za(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(G,"");var n=ot.test(t);return n||ut.test(t)?Wt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function au(t){return yi(t,bu(t))}function uu(t){return null==t?"":Jr(t)}var su=wi((function(t,e){if(ho(e)||Na(e))yi(e,wu(e),t);else for(var n in e)Ct.call(e,n)&&zn(t,n,e[n])})),lu=wi((function(t,e){yi(e,bu(e),t)})),cu=wi((function(t,e,n,r){yi(e,bu(e),t,r)})),hu=wi((function(t,e,n,r){yi(e,wu(e),t,r)})),fu=Wi(Gn);var pu=Er((function(t,e){t=_t(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&uo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=bu(o),u=-1,s=a.length;++u<s;){var l=a[u],c=t[l];(void 0===c||ka(c,bt[l])&&!Ct.call(t,l))&&(t[l]=o[l])}return t})),du=Er((function(t){return t.push(void 0,Fi),oe(Au,void 0,t)}));function _u(t,e,n){var r=null==t?void 0:hr(t,e);return void 0===r?n:r}function vu(t,e){return null!=t&&ro(t,e,vr)}var gu=ki((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=n}),zu(qu)),yu=ki((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),Ct.call(t,e)?t[e].push(n):t[e]=[n]}),Xi),mu=Er(yr);function wu(t){return Na(t)?En(t):Cr(t)}function bu(t){return Na(t)?En(t,!0):Pr(t)}var xu=wi((function(t,e,n){Lr(t,e,n)})),Au=wi((function(t,e,n,r){Lr(t,e,n,r)})),Cu=Wi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=ui(e,t),r||(r=e.length>1),e})),yi(t,qi(t),n),r&&(n=Xn(n,7,$i));for(var i=e.length;i--;)Kr(n,e[i]);return n}));var Pu=Wi((function(t,e){return null==t?{}:function(t,e){return Dr(t,e,(function(e,n){return vu(t,n)}))}(t,e)}));function Su(t,e){if(null==t)return{};var n=pe(qi(t),(function(t){return[t]}));return e=Xi(e),Dr(t,n,(function(t,n){return e(t,n[0])}))}var Mu=Ei(wu),Tu=Ei(bu);function ku(t){return null==t?[]:Ie(t,wu(t))}var Lu=Ci((function(t,e,n){return e=e.toLowerCase(),t+(n?Iu(e):e)}));function Iu(t){return Ou(uu(t).toLowerCase())}function ju(t){return(t=uu(t))&&t.replace(lt,Re).replace(Dt,"")}var Du=Ci((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Uu=Ci((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Nu=Ai("toLowerCase");var Ru=Ci((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Bu=Ci((function(t,e,n){return t+(n?" ":"")+Ou(e)}));var Eu=Ci((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ou=Ai("toUpperCase");function Hu(t,e,n){return t=uu(t),void 0===(e=n?void 0:e)?function(t){return Bt.test(t)}(t)?function(t){return t.match(Nt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Fu=Er((function(t,e){try{return oe(t,void 0,e)}catch(t){return Oa(t)?t:new ft(t)}})),$u=Wi((function(t,e){return ue(e,(function(e){e=So(e),Vn(t,e,ya(t[e],t))})),t}));function zu(t){return function(){return t}}var Wu=Mi(),Yu=Mi(!0);function qu(t){return t}function Vu(t){return Ar("function"==typeof t?t:Xn(t,1))}var Gu=Er((function(t,e){return function(n){return yr(n,t,e)}})),Zu=Er((function(t,e){return function(n){return yr(t,n,e)}}));function Xu(t,e,n){var r=wu(e),i=cr(e,r);null!=n||za(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,wu(e)));var o=!(za(n)&&"chain"in n&&!n.chain),a=Ha(t);return ue(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Ju(){}var Qu=Ii(pe),Ku=Ii(le),ts=Ii(ge);function es(t){return so(t)?Pe(So(t)):function(t){return function(e){return hr(e,t)}}(t)}var ns=Di(),rs=Di(!0);function is(){return[]}function os(){return!1}var as=Li((function(t,e){return t+e}),0),us=Ri("ceil"),ss=Li((function(t,e){return t/e}),1),ls=Ri("floor");var cs,hs=Li((function(t,e){return t*e}),1),fs=Ri("round"),ps=Li((function(t,e){return t-e}),0);return Tn.after=function(t,e){if("function"!=typeof e)throw new yt(o);return t=ru(t),function(){if(--t<1)return e.apply(this,arguments)}},Tn.ary=va,Tn.assign=su,Tn.assignIn=lu,Tn.assignInWith=cu,Tn.assignWith=hu,Tn.at=fu,Tn.before=ga,Tn.bind=ya,Tn.bindAll=$u,Tn.bindKey=ma,Tn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},Tn.chain=ea,Tn.chunk=function(t,e,n){e=(n?uo(t,e,n):void 0===e)?1:an(ru(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=r(Qe(i/e));o<i;)u[a++]=Yr(t,o,o+=e);return u},Tn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Tn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Da(n)?gi(n):[n],or(e,1))},Tn.cond=function(t){var e=null==t?0:t.length,n=Xi();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new yt(o);return[n(t[0]),t[1]]})):[],Er((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},Tn.conforms=function(t){return function(t){var e=wu(t);return function(n){return Jn(n,t,e)}}(Xn(t,1))},Tn.constant=zu,Tn.countBy=ia,Tn.create=function(t,e){var n=kn(t);return null==e?n:qn(n,e)},Tn.curry=function t(e,n,r){var i=Oi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Tn.curryRight=function t(e,n,r){var i=Oi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Tn.debounce=wa,Tn.defaults=pu,Tn.defaultsDeep=du,Tn.defer=ba,Tn.delay=xa,Tn.difference=ko,Tn.differenceBy=Lo,Tn.differenceWith=Io,Tn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=n||void 0===e?1:ru(e))<0?0:e,r):[]},Tn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,0,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e):[]},Tn.dropRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0,!0):[]},Tn.dropWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!0):[]},Tn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&uo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ru(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ru(r))<0&&(r+=i),r=n>r?0:iu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Tn.filter=function(t,e){return(Da(t)?ce:ir)(t,Xi(e,3))},Tn.flatMap=function(t,e){return or(fa(t,e),1)},Tn.flatMapDeep=function(t,e){return or(fa(t,e),1/0)},Tn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ru(n),or(fa(t,e),n)},Tn.flatten=Uo,Tn.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},Tn.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:ru(e)):[]},Tn.flip=function(t){return Oi(t,512)},Tn.flow=Wu,Tn.flowRight=Yu,Tn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Tn.functions=function(t){return null==t?[]:cr(t,wu(t))},Tn.functionsIn=function(t){return null==t?[]:cr(t,bu(t))},Tn.groupBy=la,Tn.initial=function(t){return(null==t?0:t.length)?Yr(t,0,-1):[]},Tn.intersection=Ro,Tn.intersectionBy=Bo,Tn.intersectionWith=Eo,Tn.invert=gu,Tn.invertBy=yu,Tn.invokeMap=ca,Tn.iteratee=Vu,Tn.keyBy=ha,Tn.keys=wu,Tn.keysIn=bu,Tn.map=fa,Tn.mapKeys=function(t,e){var n={};return e=Xi(e,3),sr(t,(function(t,r,i){Vn(n,e(t,r,i),t)})),n},Tn.mapValues=function(t,e){var n={};return e=Xi(e,3),sr(t,(function(t,r,i){Vn(n,r,e(t,r,i))})),n},Tn.matches=function(t){return Tr(Xn(t,1))},Tn.matchesProperty=function(t,e){return kr(t,Xn(e,1))},Tn.memoize=Aa,Tn.merge=xu,Tn.mergeWith=Au,Tn.method=Gu,Tn.methodOf=Zu,Tn.mixin=Xu,Tn.negate=Ca,Tn.nthArg=function(t){return t=ru(t),Er((function(e){return Ir(e,t)}))},Tn.omit=Cu,Tn.omitBy=function(t,e){return Su(t,Ca(Xi(e)))},Tn.once=function(t){return ga(2,t)},Tn.orderBy=function(t,e,n,r){return null==t?[]:(Da(e)||(e=null==e?[]:[e]),Da(n=r?void 0:n)||(n=null==n?[]:[n]),jr(t,e,n))},Tn.over=Qu,Tn.overArgs=Pa,Tn.overEvery=Ku,Tn.overSome=ts,Tn.partial=Sa,Tn.partialRight=Ma,Tn.partition=pa,Tn.pick=Pu,Tn.pickBy=Su,Tn.property=es,Tn.propertyOf=function(t){return function(e){return null==t?void 0:hr(t,e)}},Tn.pull=Ho,Tn.pullAll=Fo,Tn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,Xi(n,2)):t},Tn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,void 0,n):t},Tn.pullAt=$o,Tn.range=ns,Tn.rangeRight=rs,Tn.rearg=Ta,Tn.reject=function(t,e){return(Da(t)?ce:ir)(t,Ca(Xi(e,3)))},Tn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Xi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Nr(t,i),n},Tn.rest=function(t,e){if("function"!=typeof t)throw new yt(o);return Er(t,e=void 0===e?e:ru(e))},Tn.reverse=zo,Tn.sampleSize=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),(Da(t)?Hn:Hr)(t,e)},Tn.set=function(t,e,n){return null==t?t:Fr(t,e,n)},Tn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Fr(t,e,n,r)},Tn.shuffle=function(t){return(Da(t)?Fn:Wr)(t)},Tn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&uo(t,e,n)?(e=0,n=r):(e=null==e?0:ru(e),n=void 0===n?r:ru(n)),Yr(t,e,n)):[]},Tn.sortBy=da,Tn.sortedUniq=function(t){return t&&t.length?Zr(t):[]},Tn.sortedUniqBy=function(t,e){return t&&t.length?Zr(t,Xi(e,2)):[]},Tn.split=function(t,e,n){return n&&"number"!=typeof n&&uo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=uu(t))&&("string"==typeof e||null!=e&&!Ga(e))&&!(e=Jr(e))&&Oe(t)?li(qe(t),0,n):t.split(e,n):[]},Tn.spread=function(t,e){if("function"!=typeof t)throw new yt(o);return e=null==e?0:an(ru(e),0),Er((function(n){var r=n[e],i=li(n,0,e);return r&&de(i,r),oe(t,this,i)}))},Tn.tail=function(t){var e=null==t?0:t.length;return e?Yr(t,1,e):[]},Tn.take=function(t,e,n){return t&&t.length?Yr(t,0,(e=n||void 0===e?1:ru(e))<0?0:e):[]},Tn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Yr(t,(e=r-(e=n||void 0===e?1:ru(e)))<0?0:e,r):[]},Tn.takeRightWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3),!1,!0):[]},Tn.takeWhile=function(t,e){return t&&t.length?ei(t,Xi(e,3)):[]},Tn.tap=function(t,e){return e(t),t},Tn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new yt(o);return za(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wa(t,e,{leading:r,maxWait:e,trailing:i})},Tn.thru=na,Tn.toArray=eu,Tn.toPairs=Mu,Tn.toPairsIn=Tu,Tn.toPath=function(t){return Da(t)?pe(t,So):Ja(t)?[t]:gi(Po(uu(t)))},Tn.toPlainObject=au,Tn.transform=function(t,e,n){var r=Da(t),i=r||Ba(t)||Qa(t);if(e=Xi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:za(t)&&Ha(o)?kn(Yt(t)):{}}return(i?ue:sr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Tn.unary=function(t){return va(t,1)},Tn.union=Wo,Tn.unionBy=Yo,Tn.unionWith=qo,Tn.uniq=function(t){return t&&t.length?Qr(t):[]},Tn.uniqBy=function(t,e){return t&&t.length?Qr(t,Xi(e,2)):[]},Tn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},Tn.unset=function(t,e){return null==t||Kr(t,e)},Tn.unzip=Vo,Tn.unzipWith=Go,Tn.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},Tn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},Tn.values=ku,Tn.valuesIn=function(t){return null==t?[]:Ie(t,bu(t))},Tn.without=Zo,Tn.words=Hu,Tn.wrap=function(t,e){return Sa(ai(e),t)},Tn.xor=Xo,Tn.xorBy=Jo,Tn.xorWith=Qo,Tn.zip=Ko,Tn.zipObject=function(t,e){return ii(t||[],e||[],zn)},Tn.zipObjectDeep=function(t,e){return ii(t||[],e||[],Fr)},Tn.zipWith=ta,Tn.entries=Mu,Tn.entriesIn=Tu,Tn.extend=lu,Tn.extendWith=cu,Xu(Tn,Tn),Tn.add=as,Tn.attempt=Fu,Tn.camelCase=Lu,Tn.capitalize=Iu,Tn.ceil=us,Tn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=ou(n))==n?n:0),void 0!==e&&(e=(e=ou(e))==e?e:0),Zn(ou(t),e,n)},Tn.clone=function(t){return Xn(t,4)},Tn.cloneDeep=function(t){return Xn(t,5)},Tn.cloneDeepWith=function(t,e){return Xn(t,5,e="function"==typeof e?e:void 0)},Tn.cloneWith=function(t,e){return Xn(t,4,e="function"==typeof e?e:void 0)},Tn.conformsTo=function(t,e){return null==e||Jn(t,e,wu(e))},Tn.deburr=ju,Tn.defaultTo=function(t,e){return null==t||t!=t?e:t},Tn.divide=ss,Tn.endsWith=function(t,e,n){t=uu(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Zn(ru(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Tn.eq=ka,Tn.escape=function(t){return(t=uu(t))&&O.test(t)?t.replace(B,Be):t},Tn.escapeRegExp=function(t){return(t=uu(t))&&V.test(t)?t.replace(q,"\\$&"):t},Tn.every=function(t,e,n){var r=Da(t)?le:nr;return n&&uo(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Tn.find=oa,Tn.findIndex=jo,Tn.findKey=function(t,e){return me(t,Xi(e,3),sr)},Tn.findLast=aa,Tn.findLastIndex=Do,Tn.findLastKey=function(t,e){return me(t,Xi(e,3),lr)},Tn.floor=ls,Tn.forEach=ua,Tn.forEachRight=sa,Tn.forIn=function(t,e){return null==t?t:ar(t,Xi(e,3),bu)},Tn.forInRight=function(t,e){return null==t?t:ur(t,Xi(e,3),bu)},Tn.forOwn=function(t,e){return t&&sr(t,Xi(e,3))},Tn.forOwnRight=function(t,e){return t&&lr(t,Xi(e,3))},Tn.get=_u,Tn.gt=La,Tn.gte=Ia,Tn.has=function(t,e){return null!=t&&ro(t,e,_r)},Tn.hasIn=vu,Tn.head=No,Tn.identity=qu,Tn.includes=function(t,e,n,r){t=Na(t)?t:ku(t),n=n&&!r?ru(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Xa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&be(t,e,n)>-1},Tn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ru(n);return i<0&&(i=an(r+i,0)),be(t,e,i)},Tn.inRange=function(t,e,n){return e=nu(e),void 0===n?(n=e,e=0):n=nu(n),function(t,e,n){return t>=un(e,n)&&t<an(e,n)}(t=ou(t),e,n)},Tn.invoke=mu,Tn.isArguments=ja,Tn.isArray=Da,Tn.isArrayBuffer=Ua,Tn.isArrayLike=Na,Tn.isArrayLikeObject=Ra,Tn.isBoolean=function(t){return!0===t||!1===t||Wa(t)&&pr(t)==c},Tn.isBuffer=Ba,Tn.isDate=Ea,Tn.isElement=function(t){return Wa(t)&&1===t.nodeType&&!Va(t)},Tn.isEmpty=function(t){if(null==t)return!0;if(Na(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||Ba(t)||Qa(t)||ja(t)))return!t.length;var e=no(t);if(e==_||e==m)return!t.size;if(ho(t))return!Cr(t).length;for(var n in t)if(Ct.call(t,n))return!1;return!0},Tn.isEqual=function(t,e){return wr(t,e)},Tn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?wr(t,e,void 0,n):!!r},Tn.isError=Oa,Tn.isFinite=function(t){return"number"==typeof t&&nn(t)},Tn.isFunction=Ha,Tn.isInteger=Fa,Tn.isLength=$a,Tn.isMap=Ya,Tn.isMatch=function(t,e){return t===e||br(t,e,Qi(e))},Tn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,br(t,e,Qi(e),n)},Tn.isNaN=function(t){return qa(t)&&t!=+t},Tn.isNative=function(t){if(co(t))throw new ft("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},Tn.isNil=function(t){return null==t},Tn.isNull=function(t){return null===t},Tn.isNumber=qa,Tn.isObject=za,Tn.isObjectLike=Wa,Tn.isPlainObject=Va,Tn.isRegExp=Ga,Tn.isSafeInteger=function(t){return Fa(t)&&t>=-9007199254740991&&t<=9007199254740991},Tn.isSet=Za,Tn.isString=Xa,Tn.isSymbol=Ja,Tn.isTypedArray=Qa,Tn.isUndefined=function(t){return void 0===t},Tn.isWeakMap=function(t){return Wa(t)&&no(t)==x},Tn.isWeakSet=function(t){return Wa(t)&&"[object WeakSet]"==pr(t)},Tn.join=function(t,e){return null==t?"":rn.call(t,e)},Tn.kebabCase=Du,Tn.last=Oo,Tn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ru(n))<0?an(r+i,0):un(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):we(t,Ae,i,!0)},Tn.lowerCase=Uu,Tn.lowerFirst=Nu,Tn.lt=Ka,Tn.lte=tu,Tn.max=function(t){return t&&t.length?rr(t,qu,dr):void 0},Tn.maxBy=function(t,e){return t&&t.length?rr(t,Xi(e,2),dr):void 0},Tn.mean=function(t){return Ce(t,qu)},Tn.meanBy=function(t,e){return Ce(t,Xi(e,2))},Tn.min=function(t){return t&&t.length?rr(t,qu,Sr):void 0},Tn.minBy=function(t,e){return t&&t.length?rr(t,Xi(e,2),Sr):void 0},Tn.stubArray=is,Tn.stubFalse=os,Tn.stubObject=function(){return{}},Tn.stubString=function(){return""},Tn.stubTrue=function(){return!0},Tn.multiply=hs,Tn.nth=function(t,e){return t&&t.length?Ir(t,ru(e)):void 0},Tn.noConflict=function(){return Vt._===this&&(Vt._=kt),this},Tn.noop=Ju,Tn.now=_a,Tn.pad=function(t,e,n){t=uu(t);var r=(e=ru(e))?Ye(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ji(Ke(i),n)+t+ji(Qe(i),n)},Tn.padEnd=function(t,e,n){t=uu(t);var r=(e=ru(e))?Ye(t):0;return e&&r<e?t+ji(e-r,n):t},Tn.padStart=function(t,e,n){t=uu(t);var r=(e=ru(e))?Ye(t):0;return e&&r<e?ji(e-r,n)+t:t},Tn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(uu(t).replace(Z,""),e||0)},Tn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&uo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=nu(t),void 0===e?(e=t,t=0):e=nu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return un(t+i*(e-t+zt("1e-"+((i+"").length-1))),e)}return Rr(t,e)},Tn.reduce=function(t,e,n){var r=Da(t)?_e:Me,i=arguments.length<3;return r(t,Xi(e,4),n,i,tr)},Tn.reduceRight=function(t,e,n){var r=Da(t)?ve:Me,i=arguments.length<3;return r(t,Xi(e,4),n,i,er)},Tn.repeat=function(t,e,n){return e=(n?uo(t,e,n):void 0===e)?1:ru(e),Br(uu(t),e)},Tn.replace=function(){var t=arguments,e=uu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Tn.result=function(t,e,n){var r=-1,i=(e=ui(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[So(e[r])];void 0===o&&(r=i,o=n),t=Ha(o)?o.call(t):o}return t},Tn.round=fs,Tn.runInContext=t,Tn.sample=function(t){return(Da(t)?On:Or)(t)},Tn.size=function(t){if(null==t)return 0;if(Na(t))return Xa(t)?Ye(t):t.length;var e=no(t);return e==_||e==m?t.size:Cr(t).length},Tn.snakeCase=Ru,Tn.some=function(t,e,n){var r=Da(t)?ge:qr;return n&&uo(t,e,n)&&(e=void 0),r(t,Xi(e,3))},Tn.sortedIndex=function(t,e){return Vr(t,e)},Tn.sortedIndexBy=function(t,e,n){return Gr(t,e,Xi(n,2))},Tn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Vr(t,e);if(r<n&&ka(t[r],e))return r}return-1},Tn.sortedLastIndex=function(t,e){return Vr(t,e,!0)},Tn.sortedLastIndexBy=function(t,e,n){return Gr(t,e,Xi(n,2),!0)},Tn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Vr(t,e,!0)-1;if(ka(t[n],e))return n}return-1},Tn.startCase=Bu,Tn.startsWith=function(t,e,n){return t=uu(t),n=null==n?0:Zn(ru(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},Tn.subtract=ps,Tn.sum=function(t){return t&&t.length?Te(t,qu):0},Tn.sumBy=function(t,e){return t&&t.length?Te(t,Xi(e,2)):0},Tn.template=function(t,e,n){var r=Tn.templateSettings;n&&uo(t,e,n)&&(e=void 0),t=uu(t),e=cu({},e,r,Hi);var i,o,a=cu({},e.imports,r.imports,Hi),u=wu(a),s=Ie(a,u),l=0,c=e.interpolate||ct,h="__p += '",f=vt((e.escape||ct).source+"|"+c.source+"|"+(c===$?nt:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(Ct.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ot+"]")+"\n";t.replace(f,(function(e,n,r,a,u,s){return r||(r=a),h+=t.slice(l,s).replace(ht,Ee),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e})),h+="';\n";var d=Ct.call(e,"variable")&&e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(D,""):h).replace(U,"$1").replace(N,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Fu((function(){return pt(u,p+"return "+h).apply(void 0,s)}));if(_.source=h,Oa(_))throw _;return _},Tn.times=function(t,e){if((t=ru(t))<1||t>9007199254740991)return[];var n=4294967295,r=un(t,4294967295);t-=4294967295;for(var i=ke(r,e=Xi(e));++n<t;)e(n);return i},Tn.toFinite=nu,Tn.toInteger=ru,Tn.toLength=iu,Tn.toLower=function(t){return uu(t).toLowerCase()},Tn.toNumber=ou,Tn.toSafeInteger=function(t){return t?Zn(ru(t),-9007199254740991,9007199254740991):0===t?t:0},Tn.toString=uu,Tn.toUpper=function(t){return uu(t).toUpperCase()},Tn.trim=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=Jr(e)))return t;var r=qe(t),i=qe(e);return li(r,De(r,i),Ue(r,i)+1).join("")},Tn.trimEnd=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Jr(e)))return t;var r=qe(t);return li(r,0,Ue(r,qe(e))+1).join("")},Tn.trimStart=function(t,e,n){if((t=uu(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=Jr(e)))return t;var r=qe(t);return li(r,De(r,qe(e))).join("")},Tn.truncate=function(t,e){var n=30,r="...";if(za(e)){var i="separator"in e?e.separator:i;n="length"in e?ru(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=uu(t)).length;if(Oe(t)){var a=qe(t);o=a.length}if(n>=o)return t;var u=n-Ye(r);if(u<1)return r;var s=a?li(a,0,u).join(""):t.slice(0,u);if(void 0===i)return s+r;if(a&&(u+=s.length-u),Ga(i)){if(t.slice(u).search(i)){var l,c=s;for(i.global||(i=vt(i.source,uu(rt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;s=s.slice(0,void 0===h?u:h)}}else if(t.indexOf(Jr(i),u)!=u){var f=s.lastIndexOf(i);f>-1&&(s=s.slice(0,f))}return s+r},Tn.unescape=function(t){return(t=uu(t))&&E.test(t)?t.replace(R,Ve):t},Tn.uniqueId=function(t){var e=++Pt;return uu(t)+e},Tn.upperCase=Eu,Tn.upperFirst=Ou,Tn.each=ua,Tn.eachRight=sa,Tn.first=No,Xu(Tn,(cs={},sr(Tn,(function(t,e){Ct.call(Tn.prototype,e)||(cs[e]=t)})),cs),{chain:!1}),Tn.VERSION="4.17.15",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Tn[t].placeholder=Tn})),ue(["drop","take"],(function(t,e){jn.prototype[t]=function(n){n=void 0===n?1:an(ru(n),0);var r=this.__filtered__&&!e?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},jn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;jn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");jn.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");jn.prototype[t]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(qu)},jn.prototype.find=function(t){return this.filter(t).head()},jn.prototype.findLast=function(t){return this.reverse().find(t)},jn.prototype.invokeMap=Er((function(t,e){return"function"==typeof t?new jn(this):this.map((function(n){return yr(n,t,e)}))})),jn.prototype.reject=function(t){return this.filter(Ca(Xi(t)))},jn.prototype.slice=function(t,e){t=ru(t);var n=this;return n.__filtered__&&(t>0||e<0)?new jn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ru(e))<0?n.dropRight(-e):n.take(e-t)),n)},jn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},jn.prototype.toArray=function(){return this.take(4294967295)},sr(jn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Tn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Tn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof jn,s=a[0],l=u||Da(e),c=function(t){var e=i.apply(Tn,de([t],a));return r&&h?e[0]:e};l&&n&&"function"==typeof s&&1!=s.length&&(u=l=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,d=u&&!f;if(!o&&l){e=d?e:new jn(this);var _=t.apply(e,a);return _.__actions__.push({func:na,args:[c],thisArg:void 0}),new In(_,h)}return p&&d?t.apply(this,a):(_=this.thru(c),p?r?_.value()[0]:_.value():_)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Tn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Da(i)?i:[],t)}return this[n]((function(n){return e.apply(Da(n)?n:[],t)}))}})),sr(jn.prototype,(function(t,e){var n=Tn[e];if(n){var r=n.name+"";Ct.call(mn,r)||(mn[r]=[]),mn[r].push({name:e,func:n})}})),mn[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],jn.prototype.clone=function(){var t=new jn(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},jn.prototype.reverse=function(){if(this.__filtered__){var t=new jn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},jn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Da(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=un(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,h=c.length,f=0,p=un(s,this.__takeCount__);if(!n||!r&&i==s&&p==s)return ni(t,this.__actions__);var d=[];t:for(;s--&&f<p;){for(var _=-1,v=t[l+=e];++_<h;){var g=c[_],y=g.iteratee,m=g.type,w=y(v);if(2==m)v=w;else if(!w){if(1==m)continue t;break t}}d[f++]=v}return d},Tn.prototype.at=ra,Tn.prototype.chain=function(){return ea(this)},Tn.prototype.commit=function(){return new In(this.value(),this.__chain__)},Tn.prototype.next=function(){void 0===this.__values__&&(this.__values__=eu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Tn.prototype.plant=function(t){for(var e,n=this;n instanceof Ln;){var r=To(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Tn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jn){var e=t;return this.__actions__.length&&(e=new jn(this)),(e=e.reverse()).__actions__.push({func:na,args:[zo],thisArg:void 0}),new In(e,this.__chain__)}return this.thru(zo)},Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Tn.prototype.first=Tn.prototype.head,Qt&&(Tn.prototype[Qt]=function(){return this}),Tn}();Vt._=Ge,void 0===(i=function(){return Ge}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(21),n(22)(t))}});